var Le=Object.defineProperty;var Pe=(t,e,s)=>e in t?Le(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Qt=(t,e,s)=>(Pe(t,typeof e!="symbol"?e+"":e,s),s);import{s as Re,n as Zt,r as Ie,b as qe,f as ht}from"../chunks/scheduler.Cv6dzE50.js";import{S as je,i as ze,e as f,s as k,j as E,y as Fe,c as h,d as a,l as g,z as At,a as m,k as T,b as R,g as l,f as J,A as O,m as nt,B as Ge}from"../chunks/index.B6Hi3Lad.js";import{w as Je}from"../chunks/index.Bvnd0Eds.js";function Xt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class Dt{constructor(){Qt(this,"gameId",Math.random().toString(36).substring(7));Qt(this,"scores",[]);Qt(this,"stats",this.GenerateStats())}addScore(e){this.scores.push(e),this.scores=[...this.scores],this.stats=this.GenerateStats()}removeScore(e){this.scores.splice(e,1),this.scores=[...this.scores],this.stats=this.GenerateStats()}replaceScore(e,s){this.scores[e]=s,this.scores=[...this.scores],this.stats=this.GenerateStats()}get isComplete(){return this.scores.length===10}convertScoreToNumber(e){return e==="killHit6"?6:e==="killHit8"?8:e==="killMiss"||e==="drop"?0:e}get totalScore(){return this.scores.reduce((e,s)=>e+this.convertScoreToNumber(s),0)}get KillEnabled(){const e=this.GenerateStats();return e.killAttempts<2||e.killAttempts===2&&e.drops>0}GenerateStats(){const e={totalSixKills:0,totalEightKills:0,killAttempts:0,drops:0,bulls:0};return this.scores.forEach(s=>{s===6&&(e.bulls+=1),s==="drop"&&(e.drops+=1),(s==="killHit6"||s==="killHit8"||s==="killMiss")&&(e.killAttempts+=1),s==="killHit6"&&(e.totalSixKills+=1),s==="killHit8"&&(e.totalEightKills+=1)}),e}}const Me="WATLCALC",He=localStorage.getItem(Me),_t=He?JSON.parse(He):null;let ue=[];(!_t||(_t==null?void 0:_t.length)===0)&&(ue=[new Dt]);_t&&Array.isArray(_t)&&_t.length>0&&(ue=_t.map(t=>Ve(t)));const st=Je(ue);st.subscribe(t=>{localStorage.setItem(Me,JSON.stringify(t))});function Ve(t){if(t instanceof Dt)return t;const e=new Dt;return e.scores=t.scores,e.stats=t.stats,e.gameId=t.gameId,e}function Ke(t,e,s){const o=t.slice();return o[28]=e[s],o[30]=s,o}function Ne(t,e,s){const o=t.slice();return o[31]=e[s],o[33]=s,o}function We(t){let e,s=Ut(t[31])+"",o,c,r;function v(){return t[12](t[33])}return{c(){e=f("button"),o=E(s)},l(i){e=h(i,"BUTTON",{});var C=m(e);o=T(C,s),C.forEach(a)},m(i,C){J(i,e,C),l(e,o),c||(r=O(e,"click",v),c=!0)},p(i,C){t=i,C[0]&4&&s!==(s=Ut(t[31])+"")&&nt(o,s)},d(i){i&&a(e),c=!1,r()}}}function Ye(t){let e,s="Cancel",o,c;return{c(){e=f("button"),e.textContent=s},l(r){e=h(r,"BUTTON",{"data-svelte-h":!0}),At(e)!=="svelte-11mr1gk"&&(e.textContent=s)},m(r,v){J(r,e,v),o||(c=O(e,"click",t[11]),o=!0)},p:Zt,d(r){r&&a(e),o=!1,c()}}}function Oe(t){let e;function s(r,v){return r[33]===r[1]?Ye:We}let o=s(t),c=o(t);return{c(){e=f("div"),c.c()},l(r){e=h(r,"DIV",{});var v=m(e);c.l(v),v.forEach(a)},m(r,v){J(r,e,v),c.m(e,null)},p(r,v){o===(o=s(r))&&c?c.p(r,v):(c.d(1),c=o(r),c&&(c.c(),c.m(e,null)))},d(r){r&&a(e),c.d()}}}function Ae(t){let e,s="Save Game",o,c;return{c(){e=f("button"),e.textContent=s},l(r){e=h(r,"BUTTON",{"data-svelte-h":!0}),At(e)!=="svelte-11k0fq8"&&(e.textContent=s)},m(r,v){J(r,e,v),o||(c=O(e,"click",t[8]),o=!0)},p:Zt,d(r){r&&a(e),o=!1,c()}}}function Ue(t){let e,s,o=t[30]+1+"",c,r,v,i=t[28].totalScore+"",C,A,w,Q=t[28].stats.bulls+"",G,B,V,_=t[28].stats.totalEightKills+"",U,ot,X,D=t[28].stats.totalSixKills+"",x,it,H,Z=t[28].stats.drops+"",tt,M,z,q,L,et,at,d,F,rt,P,bt,gt;function y(){return t[24](t[28])}function qt(){return t[25](t[30])}return{c(){e=f("tr"),s=f("td"),c=E(o),r=k(),v=f("td"),C=E(i),A=k(),w=f("td"),G=E(Q),B=k(),V=f("td"),U=E(_),ot=k(),X=f("td"),x=E(D),it=k(),H=f("td"),tt=E(Z),M=k(),z=f("td"),q=f("button"),L=E("Edit"),at=k(),d=f("button"),F=E("Delete"),P=k(),this.h()},l($){e=h($,"TR",{});var p=m(e);s=h(p,"TD",{});var Et=m(s);c=T(Et,o),Et.forEach(a),r=g(p),v=h(p,"TD",{});var W=m(v);C=T(W,i),W.forEach(a),A=g(p),w=h(p,"TD",{});var It=m(w);G=T(It,Q),It.forEach(a),B=g(p),V=h(p,"TD",{});var Tt=m(V);U=T(Tt,_),Tt.forEach(a),ot=g(p),X=h(p,"TD",{});var vt=m(X);x=T(vt,D),vt.forEach(a),it=g(p),H=h(p,"TD",{});var St=m(H);tt=T(St,Z),St.forEach(a),M=g(p),z=h(p,"TD",{});var j=m(z);q=h(j,"BUTTON",{});var Mt=m(q);L=T(Mt,"Edit"),Mt.forEach(a),at=g(j),d=h(j,"BUTTON",{});var wt=m(d);F=T(wt,"Delete"),wt.forEach(a),j.forEach(a),P=g(p),p.forEach(a),this.h()},h(){q.disabled=et=t[28]===t[2],d.disabled=rt=t[28]===t[2]},m($,p){J($,e,p),l(e,s),l(s,c),l(e,r),l(e,v),l(v,C),l(e,A),l(e,w),l(w,G),l(e,B),l(e,V),l(V,U),l(e,ot),l(e,X),l(X,x),l(e,it),l(e,H),l(H,tt),l(e,M),l(e,z),l(z,q),l(q,L),l(z,at),l(z,d),l(d,F),l(e,P),bt||(gt=[O(q,"click",y),O(d,"click",qt)],bt=!0)},p($,p){t=$,p[0]&8&&i!==(i=t[28].totalScore+"")&&nt(C,i),p[0]&8&&Q!==(Q=t[28].stats.bulls+"")&&nt(G,Q),p[0]&8&&_!==(_=t[28].stats.totalEightKills+"")&&nt(U,_),p[0]&8&&D!==(D=t[28].stats.totalSixKills+"")&&nt(x,D),p[0]&8&&Z!==(Z=t[28].stats.drops+"")&&nt(tt,Z),p[0]&12&&et!==(et=t[28]===t[2])&&(q.disabled=et),p[0]&12&&rt!==(rt=t[28]===t[2])&&(d.disabled=rt)},d($){$&&a(e),bt=!1,Ie(gt)}}}function Qe(t){let e,s,o,c="WATL rating simulator",r,v,i,C,A=t[2].totalScore+"",w,Q,G,B,V,_,U,ot,X,D,x,it,H,Z,tt,M,z,q,L,et,at,d,F,rt,P,bt,gt,y,qt=Ut("killHit6")+"",$,p,Et,W,It=Ut("killHit8")+"",Tt,vt,St,j,Mt=Ut("killMiss")+"",wt,jt,yt,ut,ce=Ut("drop")+"",$t,zt,Y,Bt,de="Past Games",xt,mt,fe="Delete All",te,lt,ee,Lt=De(t[5])+"",Ft,le,Pt=ae(t[5])+"",Jt,se,Rt=re(t[5])+"",Vt,ne,dt,Ct,he="<tr><th>Game</th> <th>Score</th> <th>Bulls</th> <th>Kills 8</th> <th>Kills 6</th> <th>Drops</th> <th></th></tr>",oe,Gt,ie,_e,Ht=Xt(t[2].scores),K=[];for(let n=0;n<Ht.length;n+=1)K[n]=Oe(Ne(t,Ht,n));let I=t[2].isComplete&&Ae(t),Kt=Xt(t[3]),N=[];for(let n=0;n<Kt.length;n+=1)N[n]=Ue(Ke(t,Kt,n));return{c(){e=f("meta"),s=k(),o=f("h1"),o.textContent=c,r=k(),v=f("section"),i=f("p"),C=E("Current Game Score "),w=E(A),Q=k(),G=f("div");for(let n=0;n<K.length;n+=1)K[n].c();B=k(),I&&I.c(),V=k(),_=f("section"),U=f("button"),ot=E("0"),X=k(),D=f("button"),x=E("1"),it=k(),H=f("button"),Z=E("2"),tt=k(),M=f("button"),z=E("3"),q=k(),L=f("button"),et=E("4"),at=k(),d=f("button"),F=E("5"),rt=k(),P=f("button"),bt=E("6"),gt=k(),y=f("button"),$=E(qt),Et=k(),W=f("button"),Tt=E(It),St=k(),j=f("button"),wt=E(Mt),yt=k(),ut=f("button"),$t=E(ce),zt=k(),Y=f("section"),Bt=f("h2"),Bt.textContent=de,xt=k(),mt=f("button"),mt.textContent=fe,te=k(),lt=f("p"),ee=E("Rating: "),Ft=E(Lt),le=E(" Average: "),Jt=E(Pt),se=E(" total kills: "),Vt=E(Rt),ne=k(),dt=f("table"),Ct=f("thead"),Ct.innerHTML=he,oe=k(),Gt=f("tbody");for(let n=0;n<N.length;n+=1)N[n].c();this.h()},l(n){const b=Fe("svelte-eoqcji",document.head);e=h(b,"META",{name:!0,content:!0}),b.forEach(a),s=g(n),o=h(n,"H1",{class:!0,"data-svelte-h":!0}),At(o)!=="svelte-1dgqe5j"&&(o.textContent=c),r=g(n),v=h(n,"SECTION",{});var u=m(v);i=h(u,"P",{});var ct=m(i);C=T(ct,"Current Game Score "),w=T(ct,A),ct.forEach(a),Q=g(u),G=h(u,"DIV",{class:!0});var Wt=m(G);for(let kt=0;kt<K.length;kt+=1)K[kt].l(Wt);B=g(Wt),I&&I.l(Wt),Wt.forEach(a),u.forEach(a),V=g(n),_=h(n,"SECTION",{});var S=m(_);U=h(S,"BUTTON",{class:!0});var be=m(U);ot=T(be,"0"),be.forEach(a),X=g(S),D=h(S,"BUTTON",{});var ve=m(D);x=T(ve,"1"),ve.forEach(a),it=g(S),H=h(S,"BUTTON",{class:!0});var me=m(H);Z=T(me,"2"),me.forEach(a),tt=g(S),M=h(S,"BUTTON",{class:!0});var pe=m(M);z=T(pe,"3"),pe.forEach(a),q=g(S),L=h(S,"BUTTON",{class:!0});var ke=m(L);et=T(ke,"4"),ke.forEach(a),at=g(S),d=h(S,"BUTTON",{class:!0});var ge=m(d);F=T(ge,"5"),ge.forEach(a),rt=g(S),P=h(S,"BUTTON",{class:!0});var Ee=m(P);bt=T(Ee,"6"),Ee.forEach(a),gt=g(S),y=h(S,"BUTTON",{class:!0});var Te=m(y);$=T(Te,qt),Te.forEach(a),Et=g(S),W=h(S,"BUTTON",{class:!0});var Se=m(W);Tt=T(Se,It),Se.forEach(a),St=g(S),j=h(S,"BUTTON",{class:!0});var we=m(j);wt=T(we,Mt),we.forEach(a),yt=g(S),ut=h(S,"BUTTON",{class:!0});var Be=m(ut);$t=T(Be,ce),Be.forEach(a),S.forEach(a),zt=g(n),Y=h(n,"SECTION",{});var ft=m(Y);Bt=h(ft,"H2",{"data-svelte-h":!0}),At(Bt)!=="svelte-l8fwex"&&(Bt.textContent=de),xt=g(ft),mt=h(ft,"BUTTON",{"data-svelte-h":!0}),At(mt)!=="svelte-8d121d"&&(mt.textContent=fe),te=g(ft),lt=h(ft,"P",{});var pt=m(lt);ee=T(pt,"Rating: "),Ft=T(pt,Lt),le=T(pt," Average: "),Jt=T(pt,Pt),se=T(pt," total kills: "),Vt=T(pt,Rt),pt.forEach(a),ne=g(ft),dt=h(ft,"TABLE",{class:!0});var Yt=m(dt);Ct=h(Yt,"THEAD",{"data-svelte-h":!0}),At(Ct)!=="svelte-ezlsi8"&&(Ct.innerHTML=he),oe=g(Yt),Gt=h(Yt,"TBODY",{});var Ce=m(Gt);for(let kt=0;kt<N.length;kt+=1)N[kt].l(Ce);Ce.forEach(a),Yt.forEach(a),ft.forEach(a),this.h()},h(){document.title="Home",R(e,"name","description"),R(e,"content","Figure out ratings"),R(o,"class","center svelte-1nmwvlv"),R(G,"class","flexrow svelte-1nmwvlv"),R(U,"class","flexrowButton svelte-1nmwvlv"),U.disabled=t[4],D.disabled=t[4],R(H,"class","flexrowButton svelte-1nmwvlv"),H.disabled=t[4],R(M,"class","flexrowButton svelte-1nmwvlv"),M.disabled=t[4],R(L,"class","flexrowButton svelte-1nmwvlv"),L.disabled=t[4],R(d,"class","flexrowButton svelte-1nmwvlv"),d.disabled=t[4],R(P,"class","flexrowButton svelte-1nmwvlv"),P.disabled=t[4],R(y,"class","flexrowButton svelte-1nmwvlv"),y.disabled=p=t[4]||!t[2].KillEnabled&&!Nt(t[6])&&!Ot(t[6]),R(W,"class","flexrowButton svelte-1nmwvlv"),W.disabled=vt=t[4]||!t[2].KillEnabled&&!Nt(t[6])&&!Ot(t[6]),R(j,"class","flexrowButton svelte-1nmwvlv"),j.disabled=jt=t[4]||!t[2].KillEnabled&&!Nt(t[6])&&!Ot(t[6]),R(ut,"class","flexrowButton svelte-1nmwvlv"),ut.disabled=t[4],R(dt,"class","striped")},m(n,b){l(document.head,e),J(n,s,b),J(n,o,b),J(n,r,b),J(n,v,b),l(v,i),l(i,C),l(i,w),l(v,Q),l(v,G);for(let u=0;u<K.length;u+=1)K[u]&&K[u].m(G,null);l(G,B),I&&I.m(G,null),J(n,V,b),J(n,_,b),l(_,U),l(U,ot),l(_,X),l(_,D),l(D,x),l(_,it),l(_,H),l(H,Z),l(_,tt),l(_,M),l(M,z),l(_,q),l(_,L),l(L,et),l(_,at),l(_,d),l(d,F),l(_,rt),l(_,P),l(P,bt),l(_,gt),l(_,y),l(y,$),l(_,Et),l(_,W),l(W,Tt),l(_,St),l(_,j),l(j,wt),l(_,yt),l(_,ut),l(ut,$t),J(n,zt,b),J(n,Y,b),l(Y,Bt),l(Y,xt),l(Y,mt),l(Y,te),l(Y,lt),l(lt,ee),l(lt,Ft),l(lt,le),l(lt,Jt),l(lt,se),l(lt,Vt),l(Y,ne),l(Y,dt),l(dt,Ct),l(dt,oe),l(dt,Gt);for(let u=0;u<N.length;u+=1)N[u]&&N[u].m(Gt,null);ie||(_e=[O(U,"click",t[13]),O(D,"click",t[14]),O(H,"click",t[15]),O(M,"click",t[16]),O(L,"click",t[17]),O(d,"click",t[18]),O(P,"click",t[19]),O(y,"click",t[20]),O(W,"click",t[21]),O(j,"click",t[22]),O(ut,"click",t[23]),O(mt,"click",t[9])],ie=!0)},p(n,b){if(b[0]&4&&A!==(A=n[2].totalScore+"")&&nt(w,A),b[0]&6){Ht=Xt(n[2].scores);let u;for(u=0;u<Ht.length;u+=1){const ct=Ne(n,Ht,u);K[u]?K[u].p(ct,b):(K[u]=Oe(ct),K[u].c(),K[u].m(G,B))}for(;u<K.length;u+=1)K[u].d(1);K.length=Ht.length}if(n[2].isComplete?I?I.p(n,b):(I=Ae(n),I.c(),I.m(G,null)):I&&(I.d(1),I=null),b[0]&16&&(U.disabled=n[4]),b[0]&16&&(D.disabled=n[4]),b[0]&16&&(H.disabled=n[4]),b[0]&16&&(M.disabled=n[4]),b[0]&16&&(L.disabled=n[4]),b[0]&16&&(d.disabled=n[4]),b[0]&16&&(P.disabled=n[4]),b[0]&84&&p!==(p=n[4]||!n[2].KillEnabled&&!Nt(n[6])&&!Ot(n[6]))&&(y.disabled=p),b[0]&84&&vt!==(vt=n[4]||!n[2].KillEnabled&&!Nt(n[6])&&!Ot(n[6]))&&(W.disabled=vt),b[0]&84&&jt!==(jt=n[4]||!n[2].KillEnabled&&!Nt(n[6])&&!Ot(n[6]))&&(j.disabled=jt),b[0]&16&&(ut.disabled=n[4]),b[0]&32&&Lt!==(Lt=De(n[5])+"")&&nt(Ft,Lt),b[0]&32&&Pt!==(Pt=ae(n[5])+"")&&nt(Jt,Pt),b[0]&32&&Rt!==(Rt=re(n[5])+"")&&nt(Vt,Rt),b[0]&13){Kt=Xt(n[3]);let u;for(u=0;u<Kt.length;u+=1){const ct=Ke(n,Kt,u);N[u]?N[u].p(ct,b):(N[u]=Ue(ct),N[u].c(),N[u].m(Gt,null))}for(;u<N.length;u+=1)N[u].d(1);N.length=Kt.length}},i:Zt,o:Zt,d(n){n&&(a(s),a(o),a(r),a(v),a(V),a(_),a(zt),a(Y)),a(e),Ge(K,n),I&&I.d(),Ge(N,n),ie=!1,Ie(_e)}}}function Nt(t){return t==="killHit6"||t==="killHit8"||t==="killMiss"}function Ot(t){return t==="drop"}function ae(t){return t.length<1?0:t.reduce((s,o)=>s+o.totalScore,0)/t.length}function De(t){if(t.length===0)return 0;const s=ae(t),o=Xe(t),c=re(t);return s*8+o*500+c*2}function Xe(t){const e=t.length*10;let s=0;for(const o of t)for(const c of o.scores)(c===6||c===8||c==="killHit6"||c==="killHit8")&&s++;return s/e}function re(t){return t.reduce((e,s)=>s.stats.totalEightKills+s.stats.totalSixKills+e,0)}function Ut(t){if(typeof t=="number")return t.toString();switch(t){case"killHit6":return"Kill 6";case"killHit8":return"Kill 8";case"killMiss":return"Miss";case"drop":return"Drop"}}function Ze(t,e,s){let o,c,r,v,i;qe(t,st,d=>s(3,i=d));const C=!1;let A="",w=-1;function Q(d){o.addScore(d),ht(st,i=[...i],i)}function G(d){o.replaceScore(w,d),s(1,w=-1),ht(st,i=[...i],i)}function B(d){w===-1?Q(d):G(d),ht(st,i=[...i],i)}function V(){if(!o.isComplete)return;i[i.length-1]!==o?ht(st,i=[...i],i):ht(st,i=[...i,new Dt],i),s(0,A=""),s(1,w=-1)}function _(){ht(st,i=[new Dt],i)}const U=()=>{s(1,w=-1)},ot=d=>s(1,w=d),X=()=>{B(0)},D=()=>{B(1)},x=()=>{B(2)},it=()=>{B(3)},H=()=>{B(4)},Z=()=>{B(5)},tt=()=>{B(6)},M=()=>{B("killHit6")},z=()=>{B("killHit8")},q=()=>{B("killMiss")},L=()=>{B("drop")},et=d=>{s(0,A=d.gameId)},at=d=>{const F=ht(st,i=i.filter((rt,P)=>P!==d),i);F.length<1&&F.push(new Dt),ht(st,i=F,i),s(0,A="")};return t.$$.update=()=>{t.$$.dirty[0]&9&&s(2,o=A&&i.find(d=>d.gameId===A)||i[i.length-1]),t.$$.dirty[0]&6&&s(6,c=w>-1?o.scores[w]:null),t.$$.dirty[0]&8&&s(5,r=i.filter(d=>d.isComplete)),t.$$.dirty[0]&6&&s(4,v=o.isComplete&&w===-1)},[A,w,o,i,v,r,c,B,V,_,C,U,ot,X,D,x,it,H,Z,tt,M,z,q,L,et,at]}class el extends je{constructor(e){super(),ze(this,e,Ze,Qe,Re,{ssr:10},null,[-1,-1])}get ssr(){return this.$$.ctx[10]}}export{el as component};
