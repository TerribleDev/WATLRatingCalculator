var ol=Object.defineProperty;var al=(t,e,s)=>e in t?ol(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var ee=(t,e,s)=>(al(t,typeof e!="symbol"?e+"":e,s),s);import{s as il,n as Be,r as sl,c as rl,f as mt}from"../chunks/scheduler.BJere6X9.js";import{S as cl,i as dl,e as i,s as v,t as k,y as ul,c as r,d as a,f as m,z as Jt,a as u,b as p,k as T,h as l,g as y,A as C,j as lt,B as Ze}from"../chunks/index.BbPLKruz.js";import{w as fl}from"../chunks/index.DfB1FV6y.js";function le(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class Mt{constructor(){ee(this,"gameId",Math.random().toString(36).substring(7));ee(this,"scores",[]);ee(this,"stats",this.GenerateStats())}addScore(e){this.scores.push(e),this.scores=[...this.scores],this.stats=this.GenerateStats()}removeScore(e){this.scores.splice(e,1),this.scores=[...this.scores],this.stats=this.GenerateStats()}replaceScore(e,s){this.scores[e]=s,this.scores=[...this.scores],this.stats=this.GenerateStats()}get isComplete(){return this.scores.length===10}convertScoreToNumber(e){return e==="killHit6"?6:e==="killHit8"?8:e==="killMiss"||e==="drop"?0:e}get totalScore(){return this.scores.reduce((e,s)=>e+this.convertScoreToNumber(s),0)}get KillEnabled(){const e=this.GenerateStats();return e.killAttempts<2||e.killAttempts===2&&e.drops>0}GenerateStats(){const e={totalSixKills:0,totalEightKills:0,killAttempts:0,drops:0,bulls:0};return this.scores.forEach(s=>{s===6&&(e.bulls+=1),s==="drop"&&(e.drops+=1),(s==="killHit6"||s==="killHit8"||s==="killMiss")&&(e.killAttempts+=1),s==="killHit6"&&(e.totalSixKills+=1),s==="killHit8"&&(e.totalEightKills+=1)}),e}}const nl="WATLCALC",ye=localStorage.getItem(nl),gt=ye?JSON.parse(ye):null;let Ke=[];(!gt||(gt==null?void 0:gt.length)===0)&&(Ke=[new Mt]);gt&&Array.isArray(gt)&&gt.length>0&&(Ke=gt.map(t=>hl(t)));const ct=fl(Ke);ct.subscribe(t=>{localStorage.setItem(nl,JSON.stringify(t))});function hl(t){if(t instanceof Mt)return t;const e=new Mt;return e.scores=t.scores,e.stats=t.stats,e.gameId=t.gameId,e}function $e(t,e,s){const c=t.slice();return c[28]=e[s],c[30]=s,c}function xe(t,e,s){const c=t.slice();return c[31]=e[s],c[33]=s,c}function bl(t){let e,s=Ut(t[31])+"",c,E,b;function f(){return t[12](t[33])}return{c(){e=i("button"),c=k(s),this.h()},l(o){e=r(o,"BUTTON",{class:!0});var G=u(e);c=p(G,s),G.forEach(a),this.h()},h(){T(e,"class","outline secondary")},m(o,G){y(o,e,G),l(e,c),E||(b=C(e,"click",f),E=!0)},p(o,G){t=o,G[0]&4&&s!==(s=Ut(t[31])+"")&&lt(c,s)},d(o){o&&a(e),E=!1,b()}}}function _l(t){let e,s="Cancel",c,E;return{c(){e=i("button"),e.textContent=s,this.h()},l(b){e=r(b,"BUTTON",{class:!0,"data-svelte-h":!0}),Jt(e)!=="svelte-5d5idt"&&(e.textContent=s),this.h()},h(){T(e,"class","outline")},m(b,f){y(b,e,f),c||(E=C(e,"click",t[11]),c=!0)},p:Be,d(b){b&&a(e),c=!1,E()}}}function tl(t){let e,s;function c(f,o){return f[33]===f[1]?_l:bl}let E=c(t),b=E(t);return{c(){e=i("div"),b.c(),s=v()},l(f){e=r(f,"DIV",{});var o=u(e);b.l(o),s=m(o),o.forEach(a)},m(f,o){y(f,e,o),b.m(e,null),l(e,s)},p(f,o){E===(E=c(f))&&b?b.p(f,o):(b.d(1),b=E(f),b&&(b.c(),b.m(e,s)))},d(f){f&&a(e),b.d()}}}function el(t){let e,s,c=t[30]+1+"",E,b,f,o=t[28].totalScore+"",G,V,S,J=t[28].stats.bulls+"",st,w,W,F=t[28].stats.totalEightKills+"",$,dt,D,Y=t[28].stats.totalSixKills+"",U,B,H,x=t[28].stats.drops+"",nt,M,tt,L,R,ot,ut,h,K,_t,I,kt,pt,Q;function Rt(){return t[24](t[28])}function Vt(){return t[25](t[30])}return{c(){e=i("tr"),s=i("td"),E=k(c),b=v(),f=i("td"),G=k(o),V=v(),S=i("td"),st=k(J),w=v(),W=i("td"),$=k(F),dt=v(),D=i("td"),U=k(Y),B=v(),H=i("td"),nt=k(x),M=v(),tt=i("td"),L=i("button"),R=k("Edit"),ut=v(),h=i("td"),K=i("button"),_t=k("Delete"),kt=v(),this.h()},l(N){e=r(N,"TR",{});var g=u(e);s=r(g,"TD",{class:!0});var wt=u(s);E=p(wt,c),wt.forEach(a),b=m(g),f=r(g,"TD",{class:!0});var q=u(f);G=p(q,o),q.forEach(a),V=m(g),S=r(g,"TD",{class:!0});var X=u(S);st=p(X,J),X.forEach(a),w=m(g),W=r(g,"TD",{class:!0});var Lt=u(W);$=p(Lt,F),Lt.forEach(a),dt=m(g),D=r(g,"TD",{class:!0});var Bt=u(D);U=p(Bt,Y),Bt.forEach(a),B=m(g),H=r(g,"TD",{class:!0});var Et=u(H);nt=p(Et,x),Et.forEach(a),M=m(g),tt=r(g,"TD",{});var Gt=u(tt);L=r(Gt,"BUTTON",{});var Z=u(L);R=p(Z,"Edit"),Z.forEach(a),Gt.forEach(a),ut=m(g),h=r(g,"TD",{});var Pt=u(h);K=r(Pt,"BUTTON",{});var Ht=u(K);_t=p(Ht,"Delete"),Ht.forEach(a),Pt.forEach(a),kt=m(g),g.forEach(a),this.h()},h(){T(s,"class","tdSmall"),T(f,"class","tdSmall"),T(S,"class","tdSmall"),T(W,"class","tdSmall"),T(D,"class","tdSmall"),T(H,"class","tdSmall"),L.disabled=ot=t[28]===t[2],K.disabled=I=t[28]===t[2]},m(N,g){y(N,e,g),l(e,s),l(s,E),l(e,b),l(e,f),l(f,G),l(e,V),l(e,S),l(S,st),l(e,w),l(e,W),l(W,$),l(e,dt),l(e,D),l(D,U),l(e,B),l(e,H),l(H,nt),l(e,M),l(e,tt),l(tt,L),l(L,R),l(e,ut),l(e,h),l(h,K),l(K,_t),l(e,kt),pt||(Q=[C(L,"click",Rt),C(K,"click",Vt)],pt=!0)},p(N,g){t=N,g[0]&8&&o!==(o=t[28].totalScore+"")&&lt(G,o),g[0]&8&&J!==(J=t[28].stats.bulls+"")&&lt(st,J),g[0]&8&&F!==(F=t[28].stats.totalEightKills+"")&&lt($,F),g[0]&8&&Y!==(Y=t[28].stats.totalSixKills+"")&&lt(U,Y),g[0]&8&&x!==(x=t[28].stats.drops+"")&&lt(nt,x),g[0]&12&&ot!==(ot=t[28]===t[2])&&(L.disabled=ot),g[0]&12&&I!==(I=t[28]===t[2])&&(K.disabled=I)},d(N){N&&a(e),pt=!1,sl(Q)}}}function vl(t){let e,s,c,E="WATL rating simulator",b,f,o,G,V,S=t[2].totalScore+"",J,st,w,W,F=t[2].scores.length+"",$,dt,D,Y,U,B,H,x,nt,M,tt,L,R,ot,ut,h,K,_t,I,kt,pt,Q,Rt,Vt,N,g,wt,q,X,Lt=Ut("killHit6")+"",Bt,Et,Gt,Z,Pt=Ut("killHit8")+"",Ht,Wt,se,ft,Ne=Ut("killMiss")+"",ne,Yt,oe,ht,Oe=Ut("drop")+"",ae,ie,bt,re,Qt,Xt,P,Kt,Ae="Past Games",ce,Tt,Ce="Delete All",de,ue,fe,j,he,jt=ll(t[5])+"",Zt,be,_e,ve,zt=Ge(t[5])+"",yt,me,ge,ke,Ft=He(t[5])+"",$t,pe,Nt,vt,Ot,De="<tr><th>Game</th> <th>Score</th> <th>Bulls</th> <th>Kills 8</th> <th>Kills 6</th> <th>Drops</th> <th></th> <th></th></tr>",Ee,At,Te,Ie,Ct=le(t[2].scores),O=[];for(let n=0;n<Ct.length;n+=1)O[n]=tl(xe(t,Ct,n));let Dt=le(t[3]),A=[];for(let n=0;n<Dt.length;n+=1)A[n]=el($e(t,Dt,n));return{c(){e=i("meta"),s=v(),c=i("h1"),c.textContent=E,b=v(),f=i("section"),o=i("div"),G=i("div"),V=k("Score "),J=k(S),st=v(),w=i("div"),W=k("Throw: "),$=k(F),dt=v(),D=i("div");for(let n=0;n<O.length;n+=1)O[n].c();Y=v(),U=i("section"),B=i("div"),H=i("button"),x=k("0"),nt=v(),M=i("button"),tt=k("1"),L=v(),R=i("button"),ot=k("2"),ut=v(),h=i("button"),K=k("3"),_t=v(),I=i("button"),kt=k("4"),pt=v(),Q=i("button"),Rt=k("5"),Vt=v(),N=i("button"),g=k("6"),wt=v(),q=i("div"),X=i("button"),Bt=k(Lt),Gt=v(),Z=i("button"),Ht=k(Pt),se=v(),ft=i("button"),ne=k(Ne),oe=v(),ht=i("button"),ae=k(Oe),ie=v(),bt=i("button"),re=k("Save Game"),Xt=v(),P=i("section"),Kt=i("h2"),Kt.textContent=Ae,ce=v(),Tt=i("button"),Tt.textContent=Ce,de=i("br"),ue=i("br"),fe=v(),j=i("p"),he=k("Rating: "),Zt=k(jt),be=v(),_e=i("br"),ve=k(" Average: "),yt=k(zt),me=v(),ge=i("br"),ke=k(` total kills:
		`),$t=k(Ft),pe=v(),Nt=i("div"),vt=i("table"),Ot=i("thead"),Ot.innerHTML=De,Ee=v(),At=i("tbody");for(let n=0;n<A.length;n+=1)A[n].c();this.h()},l(n){const _=ul("svelte-eoqcji",document.head);e=r(_,"META",{name:!0,content:!0}),_.forEach(a),s=m(n),c=r(n,"H1",{class:!0,"data-svelte-h":!0}),Jt(c)!=="svelte-1dgqe5j"&&(c.textContent=E),b=m(n),f=r(n,"SECTION",{});var d=u(f);o=r(d,"DIV",{class:!0});var at=u(o);G=r(at,"DIV",{});var Se=u(G);V=p(Se,"Score "),J=p(Se,S),Se.forEach(a),st=m(at),w=r(at,"DIV",{});var we=u(w);W=p(we,"Throw: "),$=p(we,F),we.forEach(a),at.forEach(a),dt=m(d),D=r(d,"DIV",{class:!0});var qe=u(D);for(let St=0;St<O.length;St+=1)O[St].l(qe);qe.forEach(a),d.forEach(a),Y=m(n),U=r(n,"SECTION",{});var xt=u(U);B=r(xt,"DIV",{});var z=u(B);H=r(z,"BUTTON",{class:!0});var Ue=u(H);x=p(Ue,"0"),Ue.forEach(a),nt=m(z),M=r(z,"BUTTON",{class:!0});var Me=u(M);tt=p(Me,"1"),Me.forEach(a),L=m(z),R=r(z,"BUTTON",{class:!0});var Re=u(R);ot=p(Re,"2"),Re.forEach(a),ut=m(z),h=r(z,"BUTTON",{class:!0});var Ve=u(h);K=p(Ve,"3"),Ve.forEach(a),_t=m(z),I=r(z,"BUTTON",{class:!0});var Le=u(I);kt=p(Le,"4"),Le.forEach(a),pt=m(z),Q=r(z,"BUTTON",{class:!0});var Pe=u(Q);Rt=p(Pe,"5"),Pe.forEach(a),Vt=m(z),N=r(z,"BUTTON",{class:!0});var je=u(N);g=p(je,"6"),je.forEach(a),z.forEach(a),wt=m(xt),q=r(xt,"DIV",{});var it=u(q);X=r(it,"BUTTON",{class:!0});var ze=u(X);Bt=p(ze,Lt),ze.forEach(a),Gt=m(it),Z=r(it,"BUTTON",{class:!0});var Fe=u(Z);Ht=p(Fe,Pt),Fe.forEach(a),se=m(it),ft=r(it,"BUTTON",{class:!0});var Je=u(ft);ne=p(Je,Ne),Je.forEach(a),oe=m(it),ht=r(it,"BUTTON",{class:!0});var We=u(ht);ae=p(We,Oe),We.forEach(a),ie=m(it),bt=r(it,"BUTTON",{class:!0});var Ye=u(bt);re=p(Ye,"Save Game"),Ye.forEach(a),it.forEach(a),xt.forEach(a),Xt=m(n),P=r(n,"SECTION",{});var rt=u(P);Kt=r(rt,"H2",{"data-svelte-h":!0}),Jt(Kt)!=="svelte-l8fwex"&&(Kt.textContent=Ae),ce=m(rt),Tt=r(rt,"BUTTON",{"data-svelte-h":!0}),Jt(Tt)!=="svelte-8d121d"&&(Tt.textContent=Ce),de=r(rt,"BR",{}),ue=r(rt,"BR",{}),fe=m(rt),j=r(rt,"P",{});var et=u(j);he=p(et,"Rating: "),Zt=p(et,jt),be=m(et),_e=r(et,"BR",{}),ve=p(et," Average: "),yt=p(et,zt),me=m(et),ge=r(et,"BR",{}),ke=p(et,` total kills:
		`),$t=p(et,Ft),et.forEach(a),pe=m(rt),Nt=r(rt,"DIV",{class:!0});var Qe=u(Nt);vt=r(Qe,"TABLE",{class:!0});var te=u(vt);Ot=r(te,"THEAD",{"data-svelte-h":!0}),Jt(Ot)!=="svelte-1ys20dk"&&(Ot.innerHTML=De),Ee=m(te),At=r(te,"TBODY",{});var Xe=u(At);for(let St=0;St<A.length;St+=1)A[St].l(Xe);Xe.forEach(a),te.forEach(a),Qe.forEach(a),rt.forEach(a),this.h()},h(){document.title="Home",T(e,"name","description"),T(e,"content","Figure out ratings"),T(c,"class","center svelte-1q0dw22"),T(o,"class","stats svelte-1q0dw22"),T(D,"class","flexrow svelte-1q0dw22"),T(H,"class","flexrowButton  svelte-1q0dw22"),H.disabled=t[4],T(M,"class","flexrowButton svelte-1q0dw22"),M.disabled=t[4],T(R,"class","flexrowButton svelte-1q0dw22"),R.disabled=t[4],T(h,"class","flexrowButton  svelte-1q0dw22"),h.disabled=t[4],T(I,"class","flexrowButton  svelte-1q0dw22"),I.disabled=t[4],T(Q,"class","flexrowButton  svelte-1q0dw22"),Q.disabled=t[4],T(N,"class","flexrowButton  svelte-1q0dw22"),N.disabled=t[4],T(X,"class","flexrowButton  svelte-1q0dw22"),X.disabled=Et=t[4]||!t[2].KillEnabled&&!It(t[6])&&!qt(t[6]),T(Z,"class","flexrowButton  svelte-1q0dw22"),Z.disabled=Wt=t[4]||!t[2].KillEnabled&&!It(t[6])&&!qt(t[6]),T(ft,"class","flexrowButton  svelte-1q0dw22"),ft.disabled=Yt=t[4]||!t[2].KillEnabled&&!It(t[6])&&!qt(t[6]),T(ht,"class","flexrowButton  svelte-1q0dw22"),ht.disabled=t[4],bt.disabled=Qt=!t[2].isComplete,T(bt,"class","contrast"),T(vt,"class","striped"),T(Nt,"class","overflow-auto")},m(n,_){l(document.head,e),y(n,s,_),y(n,c,_),y(n,b,_),y(n,f,_),l(f,o),l(o,G),l(G,V),l(G,J),l(o,st),l(o,w),l(w,W),l(w,$),l(f,dt),l(f,D);for(let d=0;d<O.length;d+=1)O[d]&&O[d].m(D,null);y(n,Y,_),y(n,U,_),l(U,B),l(B,H),l(H,x),l(B,nt),l(B,M),l(M,tt),l(B,L),l(B,R),l(R,ot),l(B,ut),l(B,h),l(h,K),l(B,_t),l(B,I),l(I,kt),l(B,pt),l(B,Q),l(Q,Rt),l(B,Vt),l(B,N),l(N,g),l(U,wt),l(U,q),l(q,X),l(X,Bt),l(q,Gt),l(q,Z),l(Z,Ht),l(q,se),l(q,ft),l(ft,ne),l(q,oe),l(q,ht),l(ht,ae),l(q,ie),l(q,bt),l(bt,re),y(n,Xt,_),y(n,P,_),l(P,Kt),l(P,ce),l(P,Tt),l(P,de),l(P,ue),l(P,fe),l(P,j),l(j,he),l(j,Zt),l(j,be),l(j,_e),l(j,ve),l(j,yt),l(j,me),l(j,ge),l(j,ke),l(j,$t),l(P,pe),l(P,Nt),l(Nt,vt),l(vt,Ot),l(vt,Ee),l(vt,At);for(let d=0;d<A.length;d+=1)A[d]&&A[d].m(At,null);Te||(Ie=[C(H,"click",t[13]),C(M,"click",t[14]),C(R,"click",t[15]),C(h,"click",t[16]),C(I,"click",t[17]),C(Q,"click",t[18]),C(N,"click",t[19]),C(X,"click",t[20]),C(Z,"click",t[21]),C(ft,"click",t[22]),C(ht,"click",t[23]),C(bt,"click",t[8]),C(Tt,"click",t[9])],Te=!0)},p(n,_){if(_[0]&4&&S!==(S=n[2].totalScore+"")&&lt(J,S),_[0]&4&&F!==(F=n[2].scores.length+"")&&lt($,F),_[0]&6){Ct=le(n[2].scores);let d;for(d=0;d<Ct.length;d+=1){const at=xe(n,Ct,d);O[d]?O[d].p(at,_):(O[d]=tl(at),O[d].c(),O[d].m(D,null))}for(;d<O.length;d+=1)O[d].d(1);O.length=Ct.length}if(_[0]&16&&(H.disabled=n[4]),_[0]&16&&(M.disabled=n[4]),_[0]&16&&(R.disabled=n[4]),_[0]&16&&(h.disabled=n[4]),_[0]&16&&(I.disabled=n[4]),_[0]&16&&(Q.disabled=n[4]),_[0]&16&&(N.disabled=n[4]),_[0]&84&&Et!==(Et=n[4]||!n[2].KillEnabled&&!It(n[6])&&!qt(n[6]))&&(X.disabled=Et),_[0]&84&&Wt!==(Wt=n[4]||!n[2].KillEnabled&&!It(n[6])&&!qt(n[6]))&&(Z.disabled=Wt),_[0]&84&&Yt!==(Yt=n[4]||!n[2].KillEnabled&&!It(n[6])&&!qt(n[6]))&&(ft.disabled=Yt),_[0]&16&&(ht.disabled=n[4]),_[0]&4&&Qt!==(Qt=!n[2].isComplete)&&(bt.disabled=Qt),_[0]&32&&jt!==(jt=ll(n[5])+"")&&lt(Zt,jt),_[0]&32&&zt!==(zt=Ge(n[5])+"")&&lt(yt,zt),_[0]&32&&Ft!==(Ft=He(n[5])+"")&&lt($t,Ft),_[0]&13){Dt=le(n[3]);let d;for(d=0;d<Dt.length;d+=1){const at=$e(n,Dt,d);A[d]?A[d].p(at,_):(A[d]=el(at),A[d].c(),A[d].m(At,null))}for(;d<A.length;d+=1)A[d].d(1);A.length=Dt.length}},i:Be,o:Be,d(n){n&&(a(s),a(c),a(b),a(f),a(Y),a(U),a(Xt),a(P)),a(e),Ze(O,n),Ze(A,n),Te=!1,sl(Ie)}}}function It(t){return t==="killHit6"||t==="killHit8"||t==="killMiss"}function qt(t){return t==="drop"}function Ge(t){return t.length<1?0:t.reduce((s,c)=>s+c.totalScore,0)/t.length}function ll(t){if(t.length===0)return 0;const s=Ge(t),c=ml(t),E=He(t);return s*8+c*500+E*2}function ml(t){const e=t.length*10;let s=0;for(const c of t)for(const E of c.scores)(E===6||E===8||E==="killHit6"||E==="killHit8")&&s++;return s/e}function He(t){return t.reduce((e,s)=>s.stats.totalEightKills+s.stats.totalSixKills+e,0)}function Ut(t){if(typeof t=="number")return t.toString();switch(t){case"killHit6":return"Kill 6";case"killHit8":return"Kill 8";case"killMiss":return"Miss";case"drop":return"Drop"}}function gl(t,e,s){let c,E,b,f,o;rl(t,ct,h=>s(3,o=h));const G=!1;let V="",S=-1;function J(h){c.addScore(h),mt(ct,o=[...o],o)}function st(h){c.replaceScore(S,h),s(1,S=-1),mt(ct,o=[...o],o)}function w(h){S===-1?J(h):st(h),mt(ct,o=[...o],o)}function W(){if(!c.isComplete)return;o[o.length-1]!==c?mt(ct,o=[...o],o):mt(ct,o=[...o,new Mt],o),s(0,V=""),s(1,S=-1)}function F(){mt(ct,o=[new Mt],o)}const $=()=>{s(1,S=-1)},dt=h=>s(1,S=h),D=()=>{w(0)},Y=()=>{w(1)},U=()=>{w(2)},B=()=>{w(3)},H=()=>{w(4)},x=()=>{w(5)},nt=()=>{w(6)},M=()=>{w("killHit6")},tt=()=>{w("killHit8")},L=()=>{w("killMiss")},R=()=>{w("drop")},ot=h=>{s(0,V=h.gameId)},ut=h=>{const K=mt(ct,o=o.filter((_t,I)=>I!==h),o);K.length<1&&K.push(new Mt),mt(ct,o=K,o),s(0,V="")};return t.$$.update=()=>{t.$$.dirty[0]&9&&s(2,c=V&&o.find(h=>h.gameId===V)||o[o.length-1]),t.$$.dirty[0]&6&&s(6,E=S>-1?c.scores[S]:null),t.$$.dirty[0]&8&&s(5,b=o.filter(h=>h.isComplete)),t.$$.dirty[0]&6&&s(4,f=c.isComplete&&S===-1)},[V,S,c,o,f,b,E,w,W,F,G,$,dt,D,Y,U,B,H,x,nt,M,tt,L,R,ot,ut]}class Sl extends cl{constructor(e){super(),dl(this,e,gl,vl,il,{ssr:10},null,[-1,-1])}get ssr(){return this.$$.ctx[10]}}export{Sl as component};
