var Re=Object.defineProperty;var qe=(t,e,s)=>e in t?Re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Xt=(t,e,s)=>(qe(t,typeof e!="symbol"?e+"":e,s),s);import{s as je,n as yt,r as Le,b as Ve,f as ht}from"../chunks/scheduler.Cv6dzE50.js";import{S as ze,i as Fe,e as u,s as k,j as E,y as Je,c as d,d as i,l as g,z as Ut,a as v,k as S,b as C,g as l,f as J,A,m as nt,B as Ke}from"../chunks/index.B6Hi3Lad.js";import{w as We}from"../chunks/index.Bvnd0Eds.js";function Zt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class It{constructor(){Xt(this,"gameId",Math.random().toString(36).substring(7));Xt(this,"scores",[]);Xt(this,"stats",this.GenerateStats())}addScore(e){this.scores.push(e),this.scores=[...this.scores],this.stats=this.GenerateStats()}removeScore(e){this.scores.splice(e,1),this.scores=[...this.scores],this.stats=this.GenerateStats()}replaceScore(e,s){this.scores[e]=s,this.scores=[...this.scores],this.stats=this.GenerateStats()}get isComplete(){return this.scores.length===10}convertScoreToNumber(e){return e==="killHit6"?6:e==="killHit8"?8:e==="killMiss"||e==="drop"?0:e}get totalScore(){return this.scores.reduce((e,s)=>e+this.convertScoreToNumber(s),0)}get KillEnabled(){const e=this.GenerateStats();return e.killAttempts<2||e.killAttempts===2&&e.drops>0}GenerateStats(){const e={totalSixKills:0,totalEightKills:0,killAttempts:0,drops:0,bulls:0};return this.scores.forEach(s=>{s===6&&(e.bulls+=1),s==="drop"&&(e.drops+=1),(s==="killHit6"||s==="killHit8"||s==="killMiss")&&(e.killAttempts+=1),s==="killHit6"&&(e.totalSixKills+=1),s==="killHit8"&&(e.totalEightKills+=1)}),e}}const Pe="WATLCALC",Ne=localStorage.getItem(Pe),_t=Ne?JSON.parse(Ne):null;let ue=[];(!_t||(_t==null?void 0:_t.length)===0)&&(ue=[new It]);_t&&Array.isArray(_t)&&_t.length>0&&(ue=_t.map(t=>Ye(t)));const st=We(ue);st.subscribe(t=>{localStorage.setItem(Pe,JSON.stringify(t))});function Ye(t){if(t instanceof It)return t;const e=new It;return e.scores=t.scores,e.stats=t.stats,e.gameId=t.gameId,e}function Oe(t,e,s){const o=t.slice();return o[28]=e[s],o[30]=s,o}function Ae(t,e,s){const o=t.slice();return o[31]=e[s],o[33]=s,o}function Qe(t){let e,s=Dt(t[31])+"",o,f,r;function b(){return t[12](t[33])}return{c(){e=u("button"),o=E(s)},l(a){e=d(a,"BUTTON",{});var w=v(e);o=S(w,s),w.forEach(i)},m(a,w){J(a,e,w),l(e,o),f||(r=A(e,"click",b),f=!0)},p(a,w){t=a,w[0]&4&&s!==(s=Dt(t[31])+"")&&nt(o,s)},d(a){a&&i(e),f=!1,r()}}}function Xe(t){let e,s="Cancel",o,f;return{c(){e=u("button"),e.textContent=s},l(r){e=d(r,"BUTTON",{"data-svelte-h":!0}),Ut(e)!=="svelte-11mr1gk"&&(e.textContent=s)},m(r,b){J(r,e,b),o||(f=A(e,"click",t[11]),o=!0)},p:yt,d(r){r&&i(e),o=!1,f()}}}function Ue(t){let e;function s(r,b){return r[33]===r[1]?Xe:Qe}let o=s(t),f=o(t);return{c(){e=u("div"),f.c()},l(r){e=d(r,"DIV",{});var b=v(e);f.l(b),b.forEach(i)},m(r,b){J(r,e,b),f.m(e,null)},p(r,b){o===(o=s(r))&&f?f.p(r,b):(f.d(1),f=o(r),f&&(f.c(),f.m(e,null)))},d(r){r&&i(e),f.d()}}}function De(t){let e,s="Save Game",o,f;return{c(){e=u("button"),e.textContent=s},l(r){e=d(r,"BUTTON",{"data-svelte-h":!0}),Ut(e)!=="svelte-11k0fq8"&&(e.textContent=s)},m(r,b){J(r,e,b),o||(f=A(e,"click",t[8]),o=!0)},p:yt,d(r){r&&i(e),o=!1,f()}}}function Ie(t){let e,s,o=t[30]+1+"",f,r,b,a=t[28].totalScore+"",w,U,T,X=t[28].stats.bulls+"",K,G,V,_=t[28].stats.totalEightKills+"",D,ot,W,I=t[28].stats.totalSixKills+"",x,at,H,Z=t[28].stats.drops+"",tt,L,z,q,P,et,it,h,F,rt,R,bt,gt;function y(){return t[24](t[28])}function jt(){return t[25](t[30])}return{c(){e=u("tr"),s=u("td"),f=E(o),r=k(),b=u("td"),w=E(a),U=k(),T=u("td"),K=E(X),G=k(),V=u("td"),D=E(_),ot=k(),W=u("td"),x=E(I),at=k(),H=u("td"),tt=E(Z),L=k(),z=u("td"),q=u("button"),P=E("Edit"),it=k(),h=u("button"),F=E("Delete"),R=k(),this.h()},l($){e=d($,"TR",{});var p=v(e);s=d(p,"TD",{class:!0});var Et=v(s);f=S(Et,o),Et.forEach(i),r=g(p),b=d(p,"TD",{class:!0});var Y=v(b);w=S(Y,a),Y.forEach(i),U=g(p),T=d(p,"TD",{class:!0});var Mt=v(T);K=S(Mt,X),Mt.forEach(i),G=g(p),V=d(p,"TD",{class:!0});var St=v(V);D=S(St,_),St.forEach(i),ot=g(p),W=d(p,"TD",{class:!0});var mt=v(W);x=S(mt,I),mt.forEach(i),at=g(p),H=d(p,"TD",{class:!0});var Tt=v(H);tt=S(Tt,Z),Tt.forEach(i),L=g(p),z=d(p,"TD",{});var j=v(z);q=d(j,"BUTTON",{});var Lt=v(q);P=S(Lt,"Edit"),Lt.forEach(i),it=g(j),h=d(j,"BUTTON",{});var Bt=v(h);F=S(Bt,"Delete"),Bt.forEach(i),j.forEach(i),R=g(p),p.forEach(i),this.h()},h(){C(s,"class","tdSmall"),C(b,"class","tdSmall"),C(T,"class","tdSmall"),C(V,"class","tdSmall"),C(W,"class","tdSmall"),C(H,"class","tdSmall"),q.disabled=et=t[28]===t[2],h.disabled=rt=t[28]===t[2]},m($,p){J($,e,p),l(e,s),l(s,f),l(e,r),l(e,b),l(b,w),l(e,U),l(e,T),l(T,K),l(e,G),l(e,V),l(V,D),l(e,ot),l(e,W),l(W,x),l(e,at),l(e,H),l(H,tt),l(e,L),l(e,z),l(z,q),l(q,P),l(z,it),l(z,h),l(h,F),l(e,R),bt||(gt=[A(q,"click",y),A(h,"click",jt)],bt=!0)},p($,p){t=$,p[0]&8&&a!==(a=t[28].totalScore+"")&&nt(w,a),p[0]&8&&X!==(X=t[28].stats.bulls+"")&&nt(K,X),p[0]&8&&_!==(_=t[28].stats.totalEightKills+"")&&nt(D,_),p[0]&8&&I!==(I=t[28].stats.totalSixKills+"")&&nt(x,I),p[0]&8&&Z!==(Z=t[28].stats.drops+"")&&nt(tt,Z),p[0]&12&&et!==(et=t[28]===t[2])&&(q.disabled=et),p[0]&12&&rt!==(rt=t[28]===t[2])&&(h.disabled=rt)},d($){$&&i(e),bt=!1,Le(gt)}}}function Ze(t){let e,s,o,f="WATL rating simulator",r,b,a,w,U=t[2].totalScore+"",T,X,K,G,V,_,D,ot,W,I,x,at,H,Z,tt,L,z,q,P,et,it,h,F,rt,R,bt,gt,y,jt=Dt("killHit6")+"",$,p,Et,Y,Mt=Dt("killHit8")+"",St,mt,Tt,j,Lt=Dt("killMiss")+"",Bt,Vt,$t,ct,de=Dt("drop")+"",xt,zt,Q,Ct,fe="Past Games",te,vt,he="Delete All",ee,lt,le,Pt=Me(t[5])+"",Ft,se,Rt=re(t[5])+"",Jt,ne,qt=ce(t[5])+"",Wt,oe,Gt,dt,Ht,_e="<tr><th>Game</th> <th>Score</th> <th>Bulls</th> <th>Kills 8</th> <th>Kills 6</th> <th>Drops</th> <th></th></tr>",ae,wt,ie,be,Kt=Zt(t[2].scores),N=[];for(let n=0;n<Kt.length;n+=1)N[n]=Ue(Ae(t,Kt,n));let M=t[2].isComplete&&De(t),Nt=Zt(t[3]),O=[];for(let n=0;n<Nt.length;n+=1)O[n]=Ie(Oe(t,Nt,n));return{c(){e=u("meta"),s=k(),o=u("h1"),o.textContent=f,r=k(),b=u("section"),a=u("p"),w=E("Current Game Score "),T=E(U),X=k(),K=u("div");for(let n=0;n<N.length;n+=1)N[n].c();G=k(),M&&M.c(),V=k(),_=u("section"),D=u("button"),ot=E("0"),W=k(),I=u("button"),x=E("1"),at=k(),H=u("button"),Z=E("2"),tt=k(),L=u("button"),z=E("3"),q=k(),P=u("button"),et=E("4"),it=k(),h=u("button"),F=E("5"),rt=k(),R=u("button"),bt=E("6"),gt=k(),y=u("button"),$=E(jt),Et=k(),Y=u("button"),St=E(Mt),Tt=k(),j=u("button"),Bt=E(Lt),$t=k(),ct=u("button"),xt=E(de),zt=k(),Q=u("section"),Ct=u("h2"),Ct.textContent=fe,te=k(),vt=u("button"),vt.textContent=he,ee=k(),lt=u("p"),le=E("Rating: "),Ft=E(Pt),se=E(" Average: "),Jt=E(Rt),ne=E(` total kills:
		`),Wt=E(qt),oe=k(),Gt=u("div"),dt=u("table"),Ht=u("thead"),Ht.innerHTML=_e,ae=k(),wt=u("tbody");for(let n=0;n<O.length;n+=1)O[n].c();this.h()},l(n){const m=Je("svelte-eoqcji",document.head);e=d(m,"META",{name:!0,content:!0}),m.forEach(i),s=g(n),o=d(n,"H1",{class:!0,"data-svelte-h":!0}),Ut(o)!=="svelte-1dgqe5j"&&(o.textContent=f),r=g(n),b=d(n,"SECTION",{});var c=v(b);a=d(c,"P",{});var ut=v(a);w=S(ut,"Current Game Score "),T=S(ut,U),ut.forEach(i),X=g(c),K=d(c,"DIV",{class:!0});var Yt=v(K);for(let kt=0;kt<N.length;kt+=1)N[kt].l(Yt);G=g(Yt),M&&M.l(Yt),Yt.forEach(i),c.forEach(i),V=g(n),_=d(n,"SECTION",{});var B=v(_);D=d(B,"BUTTON",{class:!0});var me=v(D);ot=S(me,"0"),me.forEach(i),W=g(B),I=d(B,"BUTTON",{});var ve=v(I);x=S(ve,"1"),ve.forEach(i),at=g(B),H=d(B,"BUTTON",{class:!0});var pe=v(H);Z=S(pe,"2"),pe.forEach(i),tt=g(B),L=d(B,"BUTTON",{class:!0});var ke=v(L);z=S(ke,"3"),ke.forEach(i),q=g(B),P=d(B,"BUTTON",{class:!0});var ge=v(P);et=S(ge,"4"),ge.forEach(i),it=g(B),h=d(B,"BUTTON",{class:!0});var Ee=v(h);F=S(Ee,"5"),Ee.forEach(i),rt=g(B),R=d(B,"BUTTON",{class:!0});var Se=v(R);bt=S(Se,"6"),Se.forEach(i),gt=g(B),y=d(B,"BUTTON",{class:!0});var Te=v(y);$=S(Te,jt),Te.forEach(i),Et=g(B),Y=d(B,"BUTTON",{class:!0});var Be=v(Y);St=S(Be,Mt),Be.forEach(i),Tt=g(B),j=d(B,"BUTTON",{class:!0});var Ce=v(j);Bt=S(Ce,Lt),Ce.forEach(i),$t=g(B),ct=d(B,"BUTTON",{class:!0});var Ge=v(ct);xt=S(Ge,de),Ge.forEach(i),B.forEach(i),zt=g(n),Q=d(n,"SECTION",{});var ft=v(Q);Ct=d(ft,"H2",{"data-svelte-h":!0}),Ut(Ct)!=="svelte-l8fwex"&&(Ct.textContent=fe),te=g(ft),vt=d(ft,"BUTTON",{"data-svelte-h":!0}),Ut(vt)!=="svelte-8d121d"&&(vt.textContent=he),ee=g(ft),lt=d(ft,"P",{});var pt=v(lt);le=S(pt,"Rating: "),Ft=S(pt,Pt),se=S(pt," Average: "),Jt=S(pt,Rt),ne=S(pt,` total kills:
		`),Wt=S(pt,qt),pt.forEach(i),oe=g(ft),Gt=d(ft,"DIV",{class:!0});var He=v(Gt);dt=d(He,"TABLE",{class:!0});var Qt=v(dt);Ht=d(Qt,"THEAD",{"data-svelte-h":!0}),Ut(Ht)!=="svelte-fl1afw"&&(Ht.innerHTML=_e),ae=g(Qt),wt=d(Qt,"TBODY",{});var we=v(wt);for(let kt=0;kt<O.length;kt+=1)O[kt].l(we);we.forEach(i),Qt.forEach(i),He.forEach(i),ft.forEach(i),this.h()},h(){document.title="Home",C(e,"name","description"),C(e,"content","Figure out ratings"),C(o,"class","center svelte-12kbpcf"),C(K,"class","flexrow svelte-12kbpcf"),C(D,"class","flexrowButton"),D.disabled=t[4],I.disabled=t[4],C(H,"class","flexrowButton"),H.disabled=t[4],C(L,"class","flexrowButton"),L.disabled=t[4],C(P,"class","flexrowButton"),P.disabled=t[4],C(h,"class","flexrowButton"),h.disabled=t[4],C(R,"class","flexrowButton"),R.disabled=t[4],C(y,"class","flexrowButton"),y.disabled=p=t[4]||!t[2].KillEnabled&&!Ot(t[6])&&!At(t[6]),C(Y,"class","flexrowButton"),Y.disabled=mt=t[4]||!t[2].KillEnabled&&!Ot(t[6])&&!At(t[6]),C(j,"class","flexrowButton"),j.disabled=Vt=t[4]||!t[2].KillEnabled&&!Ot(t[6])&&!At(t[6]),C(ct,"class","flexrowButton"),ct.disabled=t[4],C(dt,"class","striped"),C(Gt,"class","overflow-auto")},m(n,m){l(document.head,e),J(n,s,m),J(n,o,m),J(n,r,m),J(n,b,m),l(b,a),l(a,w),l(a,T),l(b,X),l(b,K);for(let c=0;c<N.length;c+=1)N[c]&&N[c].m(K,null);l(K,G),M&&M.m(K,null),J(n,V,m),J(n,_,m),l(_,D),l(D,ot),l(_,W),l(_,I),l(I,x),l(_,at),l(_,H),l(H,Z),l(_,tt),l(_,L),l(L,z),l(_,q),l(_,P),l(P,et),l(_,it),l(_,h),l(h,F),l(_,rt),l(_,R),l(R,bt),l(_,gt),l(_,y),l(y,$),l(_,Et),l(_,Y),l(Y,St),l(_,Tt),l(_,j),l(j,Bt),l(_,$t),l(_,ct),l(ct,xt),J(n,zt,m),J(n,Q,m),l(Q,Ct),l(Q,te),l(Q,vt),l(Q,ee),l(Q,lt),l(lt,le),l(lt,Ft),l(lt,se),l(lt,Jt),l(lt,ne),l(lt,Wt),l(Q,oe),l(Q,Gt),l(Gt,dt),l(dt,Ht),l(dt,ae),l(dt,wt);for(let c=0;c<O.length;c+=1)O[c]&&O[c].m(wt,null);ie||(be=[A(D,"click",t[13]),A(I,"click",t[14]),A(H,"click",t[15]),A(L,"click",t[16]),A(P,"click",t[17]),A(h,"click",t[18]),A(R,"click",t[19]),A(y,"click",t[20]),A(Y,"click",t[21]),A(j,"click",t[22]),A(ct,"click",t[23]),A(vt,"click",t[9])],ie=!0)},p(n,m){if(m[0]&4&&U!==(U=n[2].totalScore+"")&&nt(T,U),m[0]&6){Kt=Zt(n[2].scores);let c;for(c=0;c<Kt.length;c+=1){const ut=Ae(n,Kt,c);N[c]?N[c].p(ut,m):(N[c]=Ue(ut),N[c].c(),N[c].m(K,G))}for(;c<N.length;c+=1)N[c].d(1);N.length=Kt.length}if(n[2].isComplete?M?M.p(n,m):(M=De(n),M.c(),M.m(K,null)):M&&(M.d(1),M=null),m[0]&16&&(D.disabled=n[4]),m[0]&16&&(I.disabled=n[4]),m[0]&16&&(H.disabled=n[4]),m[0]&16&&(L.disabled=n[4]),m[0]&16&&(P.disabled=n[4]),m[0]&16&&(h.disabled=n[4]),m[0]&16&&(R.disabled=n[4]),m[0]&84&&p!==(p=n[4]||!n[2].KillEnabled&&!Ot(n[6])&&!At(n[6]))&&(y.disabled=p),m[0]&84&&mt!==(mt=n[4]||!n[2].KillEnabled&&!Ot(n[6])&&!At(n[6]))&&(Y.disabled=mt),m[0]&84&&Vt!==(Vt=n[4]||!n[2].KillEnabled&&!Ot(n[6])&&!At(n[6]))&&(j.disabled=Vt),m[0]&16&&(ct.disabled=n[4]),m[0]&32&&Pt!==(Pt=Me(n[5])+"")&&nt(Ft,Pt),m[0]&32&&Rt!==(Rt=re(n[5])+"")&&nt(Jt,Rt),m[0]&32&&qt!==(qt=ce(n[5])+"")&&nt(Wt,qt),m[0]&13){Nt=Zt(n[3]);let c;for(c=0;c<Nt.length;c+=1){const ut=Oe(n,Nt,c);O[c]?O[c].p(ut,m):(O[c]=Ie(ut),O[c].c(),O[c].m(wt,null))}for(;c<O.length;c+=1)O[c].d(1);O.length=Nt.length}},i:yt,o:yt,d(n){n&&(i(s),i(o),i(r),i(b),i(V),i(_),i(zt),i(Q)),i(e),Ke(N,n),M&&M.d(),Ke(O,n),ie=!1,Le(be)}}}function Ot(t){return t==="killHit6"||t==="killHit8"||t==="killMiss"}function At(t){return t==="drop"}function re(t){return t.length<1?0:t.reduce((s,o)=>s+o.totalScore,0)/t.length}function Me(t){if(t.length===0)return 0;const s=re(t),o=ye(t),f=ce(t);return s*8+o*500+f*2}function ye(t){const e=t.length*10;let s=0;for(const o of t)for(const f of o.scores)(f===6||f===8||f==="killHit6"||f==="killHit8")&&s++;return s/e}function ce(t){return t.reduce((e,s)=>s.stats.totalEightKills+s.stats.totalSixKills+e,0)}function Dt(t){if(typeof t=="number")return t.toString();switch(t){case"killHit6":return"Kill 6";case"killHit8":return"Kill 8";case"killMiss":return"Miss";case"drop":return"Drop"}}function $e(t,e,s){let o,f,r,b,a;Ve(t,st,h=>s(3,a=h));const w=!1;let U="",T=-1;function X(h){o.addScore(h),ht(st,a=[...a],a)}function K(h){o.replaceScore(T,h),s(1,T=-1),ht(st,a=[...a],a)}function G(h){T===-1?X(h):K(h),ht(st,a=[...a],a)}function V(){if(!o.isComplete)return;a[a.length-1]!==o?ht(st,a=[...a],a):ht(st,a=[...a,new It],a),s(0,U=""),s(1,T=-1)}function _(){ht(st,a=[new It],a)}const D=()=>{s(1,T=-1)},ot=h=>s(1,T=h),W=()=>{G(0)},I=()=>{G(1)},x=()=>{G(2)},at=()=>{G(3)},H=()=>{G(4)},Z=()=>{G(5)},tt=()=>{G(6)},L=()=>{G("killHit6")},z=()=>{G("killHit8")},q=()=>{G("killMiss")},P=()=>{G("drop")},et=h=>{s(0,U=h.gameId)},it=h=>{const F=ht(st,a=a.filter((rt,R)=>R!==h),a);F.length<1&&F.push(new It),ht(st,a=F,a),s(0,U="")};return t.$$.update=()=>{t.$$.dirty[0]&9&&s(2,o=U&&a.find(h=>h.gameId===U)||a[a.length-1]),t.$$.dirty[0]&6&&s(6,f=T>-1?o.scores[T]:null),t.$$.dirty[0]&8&&s(5,r=a.filter(h=>h.isComplete)),t.$$.dirty[0]&6&&s(4,b=o.isComplete&&T===-1)},[U,T,o,a,b,r,f,G,V,_,w,D,ot,W,I,x,at,H,Z,tt,L,z,q,P,et,it]}class sl extends ze{constructor(e){super(),Fe(this,e,$e,Ze,je,{ssr:10},null,[-1,-1])}get ssr(){return this.$$.ctx[10]}}export{sl as component};
