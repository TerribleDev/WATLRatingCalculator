var Re=Object.defineProperty;var qe=(t,e,s)=>e in t?Re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Zt=(t,e,s)=>(qe(t,typeof e!="symbol"?e+"":e,s),s);import{s as je,n as $t,r as Le,b as Ve,f as ht}from"../chunks/scheduler.Cv6dzE50.js";import{S as ze,i as Fe,e as u,s as p,j as E,y as Je,c as d,d as i,l as g,z as Dt,a as b,k as T,b as C,g as l,f as z,A as U,m as nt,B as Ne}from"../chunks/index.B6Hi3Lad.js";import{w as We}from"../chunks/index.Bvnd0Eds.js";function yt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class Mt{constructor(){Zt(this,"gameId",Math.random().toString(36).substring(7));Zt(this,"scores",[]);Zt(this,"stats",this.GenerateStats())}addScore(e){this.scores.push(e),this.scores=[...this.scores],this.stats=this.GenerateStats()}removeScore(e){this.scores.splice(e,1),this.scores=[...this.scores],this.stats=this.GenerateStats()}replaceScore(e,s){this.scores[e]=s,this.scores=[...this.scores],this.stats=this.GenerateStats()}get isComplete(){return this.scores.length===10}convertScoreToNumber(e){return e==="killHit6"?6:e==="killHit8"?8:e==="killMiss"||e==="drop"?0:e}get totalScore(){return this.scores.reduce((e,s)=>e+this.convertScoreToNumber(s),0)}get KillEnabled(){const e=this.GenerateStats();return e.killAttempts<2||e.killAttempts===2&&e.drops>0}GenerateStats(){const e={totalSixKills:0,totalEightKills:0,killAttempts:0,drops:0,bulls:0};return this.scores.forEach(s=>{s===6&&(e.bulls+=1),s==="drop"&&(e.drops+=1),(s==="killHit6"||s==="killHit8"||s==="killMiss")&&(e.killAttempts+=1),s==="killHit6"&&(e.totalSixKills+=1),s==="killHit8"&&(e.totalEightKills+=1)}),e}}const Pe="WATLCALC",Oe=localStorage.getItem(Pe),_t=Oe?JSON.parse(Oe):null;let ue=[];(!_t||(_t==null?void 0:_t.length)===0)&&(ue=[new Mt]);_t&&Array.isArray(_t)&&_t.length>0&&(ue=_t.map(t=>Ye(t)));const st=We(ue);st.subscribe(t=>{localStorage.setItem(Pe,JSON.stringify(t))});function Ye(t){if(t instanceof Mt)return t;const e=new Mt;return e.scores=t.scores,e.stats=t.stats,e.gameId=t.gameId,e}function we(t,e,s){const o=t.slice();return o[28]=e[s],o[30]=s,o}function Ae(t,e,s){const o=t.slice();return o[31]=e[s],o[33]=s,o}function Qe(t){let e,s=It(t[31])+"",o,f,r;function m(){return t[12](t[33])}return{c(){e=u("button"),o=E(s)},l(a){e=d(a,"BUTTON",{});var N=b(e);o=T(N,s),N.forEach(i)},m(a,N){z(a,e,N),l(e,o),f||(r=U(e,"click",m),f=!0)},p(a,N){t=a,N[0]&4&&s!==(s=It(t[31])+"")&&nt(o,s)},d(a){a&&i(e),f=!1,r()}}}function Xe(t){let e,s="Cancel",o,f;return{c(){e=u("button"),e.textContent=s},l(r){e=d(r,"BUTTON",{"data-svelte-h":!0}),Dt(e)!=="svelte-11mr1gk"&&(e.textContent=s)},m(r,m){z(r,e,m),o||(f=U(e,"click",t[11]),o=!0)},p:$t,d(r){r&&i(e),o=!1,f()}}}function Ue(t){let e;function s(r,m){return r[33]===r[1]?Xe:Qe}let o=s(t),f=o(t);return{c(){e=u("div"),f.c()},l(r){e=d(r,"DIV",{});var m=b(e);f.l(m),m.forEach(i)},m(r,m){z(r,e,m),f.m(e,null)},p(r,m){o===(o=s(r))&&f?f.p(r,m):(f.d(1),f=o(r),f&&(f.c(),f.m(e,null)))},d(r){r&&i(e),f.d()}}}function De(t){let e,s="Save Game",o,f;return{c(){e=u("button"),e.textContent=s},l(r){e=d(r,"BUTTON",{"data-svelte-h":!0}),Dt(e)!=="svelte-11k0fq8"&&(e.textContent=s)},m(r,m){z(r,e,m),o||(f=U(e,"click",t[8]),o=!0)},p:$t,d(r){r&&i(e),o=!1,f()}}}function Ie(t){let e,s,o=t[30]+1+"",f,r,m,a=t[28].totalScore+"",N,D,S,Z=t[28].stats.bulls+"",O,G,V,_=t[28].stats.totalEightKills+"",I,ot,F,M=t[28].stats.totalSixKills+"",x,at,H,y=t[28].stats.drops+"",tt,R,$,j,q,et,it,h,K,ut,L,bt,mt,J;function zt(){return t[24](t[28])}function Lt(){return t[25](t[30])}return{c(){e=u("tr"),s=u("td"),f=E(o),r=p(),m=u("td"),N=E(a),D=p(),S=u("td"),O=E(Z),G=p(),V=u("td"),I=E(_),ot=p(),F=u("td"),x=E(M),at=p(),H=u("td"),tt=E(y),R=p(),$=u("td"),j=u("button"),q=E("Edit"),it=p(),h=u("td"),K=u("button"),ut=E("Delete"),bt=p(),this.h()},l(W){e=d(W,"TR",{});var k=b(e);s=d(k,"TD",{class:!0});var Y=b(s);f=T(Y,o),Y.forEach(i),r=g(k),m=d(k,"TD",{class:!0});var Pt=b(m);N=T(Pt,a),Pt.forEach(i),D=g(k),S=d(k,"TD",{class:!0});var Tt=b(S);O=T(Tt,Z),Tt.forEach(i),G=g(k),V=d(k,"TD",{class:!0});var vt=b(V);I=T(vt,_),vt.forEach(i),ot=g(k),F=d(k,"TD",{class:!0});var St=b(F);x=T(St,M),St.forEach(i),at=g(k),H=d(k,"TD",{class:!0});var Q=b(H);tt=T(Q,y),Q.forEach(i),R=g(k),$=d(k,"TD",{});var Rt=b($);j=d(Rt,"BUTTON",{});var Bt=b(j);q=T(Bt,"Edit"),Bt.forEach(i),Rt.forEach(i),it=g(k),h=d(k,"TD",{});var kt=b(h);K=d(kt,"BUTTON",{});var Ct=b(K);ut=T(Ct,"Delete"),Ct.forEach(i),kt.forEach(i),bt=g(k),k.forEach(i),this.h()},h(){C(s,"class","tdSmall"),C(m,"class","tdSmall"),C(S,"class","tdSmall"),C(V,"class","tdSmall"),C(F,"class","tdSmall"),C(H,"class","tdSmall"),j.disabled=et=t[28]===t[2],K.disabled=L=t[28]===t[2]},m(W,k){z(W,e,k),l(e,s),l(s,f),l(e,r),l(e,m),l(m,N),l(e,D),l(e,S),l(S,O),l(e,G),l(e,V),l(V,I),l(e,ot),l(e,F),l(F,x),l(e,at),l(e,H),l(H,tt),l(e,R),l(e,$),l($,j),l(j,q),l(e,it),l(e,h),l(h,K),l(K,ut),l(e,bt),mt||(J=[U(j,"click",zt),U(K,"click",Lt)],mt=!0)},p(W,k){t=W,k[0]&8&&a!==(a=t[28].totalScore+"")&&nt(N,a),k[0]&8&&Z!==(Z=t[28].stats.bulls+"")&&nt(O,Z),k[0]&8&&_!==(_=t[28].stats.totalEightKills+"")&&nt(I,_),k[0]&8&&M!==(M=t[28].stats.totalSixKills+"")&&nt(x,M),k[0]&8&&y!==(y=t[28].stats.drops+"")&&nt(tt,y),k[0]&12&&et!==(et=t[28]===t[2])&&(j.disabled=et),k[0]&12&&L!==(L=t[28]===t[2])&&(K.disabled=L)},d(W){W&&i(e),mt=!1,Le(J)}}}function Ze(t){let e,s,o,f="WATL rating simulator",r,m,a,N,D=t[2].totalScore+"",S,Z,O,G,V,_,I,ot,F,M,x,at,H,y,tt,R,$,j,q,et,it,h,K,ut,L,bt,mt,J,zt=It("killHit6")+"",Lt,W,k,Y,Pt=It("killHit8")+"",Tt,vt,St,Q,Rt=It("killMiss")+"",Bt,kt,Ct,rt,de=It("drop")+"",xt,Ft,X,Gt,fe="Past Games",te,pt,he="Delete All",ee,lt,le,qt=Me(t[5])+"",Jt,se,jt=re(t[5])+"",Wt,ne,Vt=ce(t[5])+"",Yt,oe,Ht,dt,Kt,_e="<tr><th>Game</th> <th>Score</th> <th>Bulls</th> <th>Kills 8</th> <th>Kills 6</th> <th>Drops</th> <th></th> <th></th></tr>",ae,Nt,ie,be,Ot=yt(t[2].scores),w=[];for(let n=0;n<Ot.length;n+=1)w[n]=Ue(Ae(t,Ot,n));let P=t[2].isComplete&&De(t),wt=yt(t[3]),A=[];for(let n=0;n<wt.length;n+=1)A[n]=Ie(we(t,wt,n));return{c(){e=u("meta"),s=p(),o=u("h1"),o.textContent=f,r=p(),m=u("section"),a=u("p"),N=E("Current Game Score "),S=E(D),Z=p(),O=u("div");for(let n=0;n<w.length;n+=1)w[n].c();G=p(),P&&P.c(),V=p(),_=u("section"),I=u("button"),ot=E("0"),F=p(),M=u("button"),x=E("1"),at=p(),H=u("button"),y=E("2"),tt=p(),R=u("button"),$=E("3"),j=p(),q=u("button"),et=E("4"),it=p(),h=u("button"),K=E("5"),ut=p(),L=u("button"),bt=E("6"),mt=p(),J=u("button"),Lt=E(zt),k=p(),Y=u("button"),Tt=E(Pt),St=p(),Q=u("button"),Bt=E(Rt),Ct=p(),rt=u("button"),xt=E(de),Ft=p(),X=u("section"),Gt=u("h2"),Gt.textContent=fe,te=p(),pt=u("button"),pt.textContent=he,ee=p(),lt=u("p"),le=E("Rating: "),Jt=E(qt),se=E(" Average: "),Wt=E(jt),ne=E(` total kills:
		`),Yt=E(Vt),oe=p(),Ht=u("div"),dt=u("table"),Kt=u("thead"),Kt.innerHTML=_e,ae=p(),Nt=u("tbody");for(let n=0;n<A.length;n+=1)A[n].c();this.h()},l(n){const v=Je("svelte-eoqcji",document.head);e=d(v,"META",{name:!0,content:!0}),v.forEach(i),s=g(n),o=d(n,"H1",{class:!0,"data-svelte-h":!0}),Dt(o)!=="svelte-1dgqe5j"&&(o.textContent=f),r=g(n),m=d(n,"SECTION",{});var c=b(m);a=d(c,"P",{});var ct=b(a);N=T(ct,"Current Game Score "),S=T(ct,D),ct.forEach(i),Z=g(c),O=d(c,"DIV",{class:!0});var Qt=b(O);for(let Et=0;Et<w.length;Et+=1)w[Et].l(Qt);G=g(Qt),P&&P.l(Qt),Qt.forEach(i),c.forEach(i),V=g(n),_=d(n,"SECTION",{});var B=b(_);I=d(B,"BUTTON",{class:!0});var me=b(I);ot=T(me,"0"),me.forEach(i),F=g(B),M=d(B,"BUTTON",{});var ve=b(M);x=T(ve,"1"),ve.forEach(i),at=g(B),H=d(B,"BUTTON",{class:!0});var ke=b(H);y=T(ke,"2"),ke.forEach(i),tt=g(B),R=d(B,"BUTTON",{class:!0});var pe=b(R);$=T(pe,"3"),pe.forEach(i),j=g(B),q=d(B,"BUTTON",{class:!0});var ge=b(q);et=T(ge,"4"),ge.forEach(i),it=g(B),h=d(B,"BUTTON",{class:!0});var Ee=b(h);K=T(Ee,"5"),Ee.forEach(i),ut=g(B),L=d(B,"BUTTON",{class:!0});var Te=b(L);bt=T(Te,"6"),Te.forEach(i),mt=g(B),J=d(B,"BUTTON",{class:!0});var Se=b(J);Lt=T(Se,zt),Se.forEach(i),k=g(B),Y=d(B,"BUTTON",{class:!0});var Be=b(Y);Tt=T(Be,Pt),Be.forEach(i),St=g(B),Q=d(B,"BUTTON",{class:!0});var Ce=b(Q);Bt=T(Ce,Rt),Ce.forEach(i),Ct=g(B),rt=d(B,"BUTTON",{class:!0});var Ge=b(rt);xt=T(Ge,de),Ge.forEach(i),B.forEach(i),Ft=g(n),X=d(n,"SECTION",{});var ft=b(X);Gt=d(ft,"H2",{"data-svelte-h":!0}),Dt(Gt)!=="svelte-l8fwex"&&(Gt.textContent=fe),te=g(ft),pt=d(ft,"BUTTON",{"data-svelte-h":!0}),Dt(pt)!=="svelte-8d121d"&&(pt.textContent=he),ee=g(ft),lt=d(ft,"P",{});var gt=b(lt);le=T(gt,"Rating: "),Jt=T(gt,qt),se=T(gt," Average: "),Wt=T(gt,jt),ne=T(gt,` total kills:
		`),Yt=T(gt,Vt),gt.forEach(i),oe=g(ft),Ht=d(ft,"DIV",{class:!0});var He=b(Ht);dt=d(He,"TABLE",{class:!0});var Xt=b(dt);Kt=d(Xt,"THEAD",{"data-svelte-h":!0}),Dt(Kt)!=="svelte-1ys20dk"&&(Kt.innerHTML=_e),ae=g(Xt),Nt=d(Xt,"TBODY",{});var Ke=b(Nt);for(let Et=0;Et<A.length;Et+=1)A[Et].l(Ke);Ke.forEach(i),Xt.forEach(i),He.forEach(i),ft.forEach(i),this.h()},h(){document.title="Home",C(e,"name","description"),C(e,"content","Figure out ratings"),C(o,"class","center svelte-111sxso"),C(O,"class","flexrow svelte-111sxso"),C(I,"class","flexrowButton svelte-111sxso"),I.disabled=t[4],M.disabled=t[4],C(H,"class","flexrowButton svelte-111sxso"),H.disabled=t[4],C(R,"class","flexrowButton svelte-111sxso"),R.disabled=t[4],C(q,"class","flexrowButton svelte-111sxso"),q.disabled=t[4],C(h,"class","flexrowButton svelte-111sxso"),h.disabled=t[4],C(L,"class","flexrowButton svelte-111sxso"),L.disabled=t[4],C(J,"class","flexrowButton svelte-111sxso"),J.disabled=W=t[4]||!t[2].KillEnabled&&!At(t[6])&&!Ut(t[6]),C(Y,"class","flexrowButton svelte-111sxso"),Y.disabled=vt=t[4]||!t[2].KillEnabled&&!At(t[6])&&!Ut(t[6]),C(Q,"class","flexrowButton svelte-111sxso"),Q.disabled=kt=t[4]||!t[2].KillEnabled&&!At(t[6])&&!Ut(t[6]),C(rt,"class","flexrowButton svelte-111sxso"),rt.disabled=t[4],C(dt,"class","striped"),C(Ht,"class","overflow-auto")},m(n,v){l(document.head,e),z(n,s,v),z(n,o,v),z(n,r,v),z(n,m,v),l(m,a),l(a,N),l(a,S),l(m,Z),l(m,O);for(let c=0;c<w.length;c+=1)w[c]&&w[c].m(O,null);l(O,G),P&&P.m(O,null),z(n,V,v),z(n,_,v),l(_,I),l(I,ot),l(_,F),l(_,M),l(M,x),l(_,at),l(_,H),l(H,y),l(_,tt),l(_,R),l(R,$),l(_,j),l(_,q),l(q,et),l(_,it),l(_,h),l(h,K),l(_,ut),l(_,L),l(L,bt),l(_,mt),l(_,J),l(J,Lt),l(_,k),l(_,Y),l(Y,Tt),l(_,St),l(_,Q),l(Q,Bt),l(_,Ct),l(_,rt),l(rt,xt),z(n,Ft,v),z(n,X,v),l(X,Gt),l(X,te),l(X,pt),l(X,ee),l(X,lt),l(lt,le),l(lt,Jt),l(lt,se),l(lt,Wt),l(lt,ne),l(lt,Yt),l(X,oe),l(X,Ht),l(Ht,dt),l(dt,Kt),l(dt,ae),l(dt,Nt);for(let c=0;c<A.length;c+=1)A[c]&&A[c].m(Nt,null);ie||(be=[U(I,"click",t[13]),U(M,"click",t[14]),U(H,"click",t[15]),U(R,"click",t[16]),U(q,"click",t[17]),U(h,"click",t[18]),U(L,"click",t[19]),U(J,"click",t[20]),U(Y,"click",t[21]),U(Q,"click",t[22]),U(rt,"click",t[23]),U(pt,"click",t[9])],ie=!0)},p(n,v){if(v[0]&4&&D!==(D=n[2].totalScore+"")&&nt(S,D),v[0]&6){Ot=yt(n[2].scores);let c;for(c=0;c<Ot.length;c+=1){const ct=Ae(n,Ot,c);w[c]?w[c].p(ct,v):(w[c]=Ue(ct),w[c].c(),w[c].m(O,G))}for(;c<w.length;c+=1)w[c].d(1);w.length=Ot.length}if(n[2].isComplete?P?P.p(n,v):(P=De(n),P.c(),P.m(O,null)):P&&(P.d(1),P=null),v[0]&16&&(I.disabled=n[4]),v[0]&16&&(M.disabled=n[4]),v[0]&16&&(H.disabled=n[4]),v[0]&16&&(R.disabled=n[4]),v[0]&16&&(q.disabled=n[4]),v[0]&16&&(h.disabled=n[4]),v[0]&16&&(L.disabled=n[4]),v[0]&84&&W!==(W=n[4]||!n[2].KillEnabled&&!At(n[6])&&!Ut(n[6]))&&(J.disabled=W),v[0]&84&&vt!==(vt=n[4]||!n[2].KillEnabled&&!At(n[6])&&!Ut(n[6]))&&(Y.disabled=vt),v[0]&84&&kt!==(kt=n[4]||!n[2].KillEnabled&&!At(n[6])&&!Ut(n[6]))&&(Q.disabled=kt),v[0]&16&&(rt.disabled=n[4]),v[0]&32&&qt!==(qt=Me(n[5])+"")&&nt(Jt,qt),v[0]&32&&jt!==(jt=re(n[5])+"")&&nt(Wt,jt),v[0]&32&&Vt!==(Vt=ce(n[5])+"")&&nt(Yt,Vt),v[0]&13){wt=yt(n[3]);let c;for(c=0;c<wt.length;c+=1){const ct=we(n,wt,c);A[c]?A[c].p(ct,v):(A[c]=Ie(ct),A[c].c(),A[c].m(Nt,null))}for(;c<A.length;c+=1)A[c].d(1);A.length=wt.length}},i:$t,o:$t,d(n){n&&(i(s),i(o),i(r),i(m),i(V),i(_),i(Ft),i(X)),i(e),Ne(w,n),P&&P.d(),Ne(A,n),ie=!1,Le(be)}}}function At(t){return t==="killHit6"||t==="killHit8"||t==="killMiss"}function Ut(t){return t==="drop"}function re(t){return t.length<1?0:t.reduce((s,o)=>s+o.totalScore,0)/t.length}function Me(t){if(t.length===0)return 0;const s=re(t),o=ye(t),f=ce(t);return s*8+o*500+f*2}function ye(t){const e=t.length*10;let s=0;for(const o of t)for(const f of o.scores)(f===6||f===8||f==="killHit6"||f==="killHit8")&&s++;return s/e}function ce(t){return t.reduce((e,s)=>s.stats.totalEightKills+s.stats.totalSixKills+e,0)}function It(t){if(typeof t=="number")return t.toString();switch(t){case"killHit6":return"Kill 6";case"killHit8":return"Kill 8";case"killMiss":return"Miss";case"drop":return"Drop"}}function $e(t,e,s){let o,f,r,m,a;Ve(t,st,h=>s(3,a=h));const N=!1;let D="",S=-1;function Z(h){o.addScore(h),ht(st,a=[...a],a)}function O(h){o.replaceScore(S,h),s(1,S=-1),ht(st,a=[...a],a)}function G(h){S===-1?Z(h):O(h),ht(st,a=[...a],a)}function V(){if(!o.isComplete)return;a[a.length-1]!==o?ht(st,a=[...a],a):ht(st,a=[...a,new Mt],a),s(0,D=""),s(1,S=-1)}function _(){ht(st,a=[new Mt],a)}const I=()=>{s(1,S=-1)},ot=h=>s(1,S=h),F=()=>{G(0)},M=()=>{G(1)},x=()=>{G(2)},at=()=>{G(3)},H=()=>{G(4)},y=()=>{G(5)},tt=()=>{G(6)},R=()=>{G("killHit6")},$=()=>{G("killHit8")},j=()=>{G("killMiss")},q=()=>{G("drop")},et=h=>{s(0,D=h.gameId)},it=h=>{const K=ht(st,a=a.filter((ut,L)=>L!==h),a);K.length<1&&K.push(new Mt),ht(st,a=K,a),s(0,D="")};return t.$$.update=()=>{t.$$.dirty[0]&9&&s(2,o=D&&a.find(h=>h.gameId===D)||a[a.length-1]),t.$$.dirty[0]&6&&s(6,f=S>-1?o.scores[S]:null),t.$$.dirty[0]&8&&s(5,r=a.filter(h=>h.isComplete)),t.$$.dirty[0]&6&&s(4,m=o.isComplete&&S===-1)},[D,S,o,a,m,r,f,G,V,_,N,I,ot,F,M,x,at,H,y,tt,R,$,j,q,et,it]}class sl extends ze{constructor(e){super(),Fe(this,e,$e,Ze,je,{ssr:10},null,[-1,-1])}get ssr(){return this.$$.ctx[10]}}export{sl as component};
