var ye=Object.defineProperty;var $e=(t,e,s)=>e in t?ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var $t=(t,e,s)=>($e(t,typeof e!="symbol"?e+"":e,s),s);import{s as xe,n as ge,r as Xe,b as tl,f as vt}from"../chunks/scheduler.Cv6dzE50.js";import{S as el,i as ll,e as i,s as m,j as p,y as sl,c,d as a,l as g,z as zt,a as d,k,b as S,g as l,f as Q,A as D,m as rt,B as qe}from"../chunks/index.B6Hi3Lad.js";import{w as nl}from"../chunks/index.Bvnd0Eds.js";function xt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class Rt{constructor(){$t(this,"gameId",Math.random().toString(36).substring(7));$t(this,"scores",[]);$t(this,"stats",this.GenerateStats())}addScore(e){this.scores.push(e),this.scores=[...this.scores],this.stats=this.GenerateStats()}removeScore(e){this.scores.splice(e,1),this.scores=[...this.scores],this.stats=this.GenerateStats()}replaceScore(e,s){this.scores[e]=s,this.scores=[...this.scores],this.stats=this.GenerateStats()}get isComplete(){return this.scores.length===10}convertScoreToNumber(e){return e==="killHit6"?6:e==="killHit8"?8:e==="killMiss"||e==="drop"?0:e}get totalScore(){return this.scores.reduce((e,s)=>e+this.convertScoreToNumber(s),0)}get KillEnabled(){const e=this.GenerateStats();return e.killAttempts<2||e.killAttempts===2&&e.drops>0}GenerateStats(){const e={totalSixKills:0,totalEightKills:0,killAttempts:0,drops:0,bulls:0};return this.scores.forEach(s=>{s===6&&(e.bulls+=1),s==="drop"&&(e.drops+=1),(s==="killHit6"||s==="killHit8"||s==="killMiss")&&(e.killAttempts+=1),s==="killHit6"&&(e.totalSixKills+=1),s==="killHit8"&&(e.totalEightKills+=1)}),e}}const Ze="WATLCALC",ze=localStorage.getItem(Ze),mt=ze?JSON.parse(ze):null;let Ee=[];(!mt||(mt==null?void 0:mt.length)===0)&&(Ee=[new Rt]);mt&&Array.isArray(mt)&&mt.length>0&&(Ee=mt.map(t=>ol(t)));const at=nl(Ee);at.subscribe(t=>{localStorage.setItem(Ze,JSON.stringify(t))});function ol(t){if(t instanceof Rt)return t;const e=new Rt;return e.scores=t.scores,e.stats=t.stats,e.gameId=t.gameId,e}function Fe(t,e,s){const r=t.slice();return r[28]=e[s],r[30]=s,r}function Je(t,e,s){const r=t.slice();return r[31]=e[s],r[33]=s,r}function al(t){let e,s=Mt(t[31])+"",r,E,b;function f(){return t[12](t[33])}return{c(){e=i("button"),r=p(s),this.h()},l(o){e=c(o,"BUTTON",{class:!0});var C=d(e);r=k(C,s),C.forEach(a),this.h()},h(){S(e,"class","outline secondary")},m(o,C){Q(o,e,C),l(e,r),E||(b=D(e,"click",f),E=!0)},p(o,C){t=o,C[0]&4&&s!==(s=Mt(t[31])+"")&&rt(r,s)},d(o){o&&a(e),E=!1,b()}}}function rl(t){let e,s="Cancel",r,E;return{c(){e=i("button"),e.textContent=s,this.h()},l(b){e=c(b,"BUTTON",{class:!0,"data-svelte-h":!0}),zt(e)!=="svelte-5d5idt"&&(e.textContent=s),this.h()},h(){S(e,"class","outline")},m(b,f){Q(b,e,f),r||(E=D(e,"click",t[11]),r=!0)},p:ge,d(b){b&&a(e),r=!1,E()}}}function We(t){let e,s;function r(f,o){return f[33]===f[1]?rl:al}let E=r(t),b=E(t);return{c(){e=i("div"),b.c(),s=m()},l(f){e=c(f,"DIV",{});var o=d(e);b.l(o),s=g(o),o.forEach(a)},m(f,o){Q(f,e,o),b.m(e,null),l(e,s)},p(f,o){E===(E=r(f))&&b?b.p(f,o):(b.d(1),b=E(f),b&&(b.c(),b.m(e,s)))},d(f){f&&a(e),b.d()}}}function Ye(t){let e,s,r=t[30]+1+"",E,b,f,o=t[28].totalScore+"",C,U,w,X=t[28].stats.bulls+"",V,B,K,T=t[28].stats.totalEightKills+"",I,it,J,N=t[28].stats.totalSixKills+"",et,ct,G,Z=t[28].stats.drops+"",lt,L,y,j,P,st,ut,h,H,bt,M,gt,pt,R;function $(){return t[24](t[28])}function Ft(){return t[25](t[30])}return{c(){e=i("tr"),s=i("td"),E=p(r),b=m(),f=i("td"),C=p(o),U=m(),w=i("td"),V=p(X),B=m(),K=i("td"),I=p(T),it=m(),J=i("td"),et=p(N),ct=m(),G=i("td"),lt=p(Z),L=m(),y=i("td"),j=i("button"),P=p("Edit"),ut=m(),h=i("td"),H=i("button"),bt=p("Delete"),gt=m(),this.h()},l(x){e=c(x,"TR",{});var _=d(e);s=c(_,"TD",{class:!0});var wt=d(s);E=k(wt,r),wt.forEach(a),b=g(_),f=c(_,"TD",{class:!0});var W=d(f);C=k(W,o),W.forEach(a),U=g(_),w=c(_,"TD",{class:!0});var Lt=d(w);V=k(Lt,X),Lt.forEach(a),B=g(_),K=c(_,"TD",{class:!0});var Bt=d(K);I=k(Bt,T),Bt.forEach(a),it=g(_),J=c(_,"TD",{class:!0});var kt=d(J);et=k(kt,N),kt.forEach(a),ct=g(_),G=c(_,"TD",{class:!0});var Gt=d(G);lt=k(Gt,Z),Gt.forEach(a),L=g(_),y=c(_,"TD",{});var Y=d(y);j=c(Y,"BUTTON",{});var Pt=d(j);P=k(Pt,"Edit"),Pt.forEach(a),Y.forEach(a),ut=g(_),h=c(_,"TD",{});var Ht=d(h);H=c(Ht,"BUTTON",{});var Et=d(H);bt=k(Et,"Delete"),Et.forEach(a),Ht.forEach(a),gt=g(_),_.forEach(a),this.h()},h(){S(s,"class","tdSmall"),S(f,"class","tdSmall"),S(w,"class","tdSmall"),S(K,"class","tdSmall"),S(J,"class","tdSmall"),S(G,"class","tdSmall"),j.disabled=st=t[28]===t[2],H.disabled=M=t[28]===t[2]},m(x,_){Q(x,e,_),l(e,s),l(s,E),l(e,b),l(e,f),l(f,C),l(e,U),l(e,w),l(w,V),l(e,B),l(e,K),l(K,I),l(e,it),l(e,J),l(J,et),l(e,ct),l(e,G),l(G,lt),l(e,L),l(e,y),l(y,j),l(j,P),l(e,ut),l(e,h),l(h,H),l(H,bt),l(e,gt),pt||(R=[D(j,"click",$),D(H,"click",Ft)],pt=!0)},p(x,_){t=x,_[0]&8&&o!==(o=t[28].totalScore+"")&&rt(C,o),_[0]&8&&X!==(X=t[28].stats.bulls+"")&&rt(V,X),_[0]&8&&T!==(T=t[28].stats.totalEightKills+"")&&rt(I,T),_[0]&8&&N!==(N=t[28].stats.totalSixKills+"")&&rt(et,N),_[0]&8&&Z!==(Z=t[28].stats.drops+"")&&rt(lt,Z),_[0]&12&&st!==(st=t[28]===t[2])&&(j.disabled=st),_[0]&12&&M!==(M=t[28]===t[2])&&(H.disabled=M)},d(x){x&&a(e),pt=!1,Xe(R)}}}function il(t){let e,s,r,E="WATL rating simulator",b,f,o,C,U=t[2].totalScore+"",w,X,V,B,K,T,I,it,J,N,et,ct,G,Z,lt,L,y,j,P,st,ut,h,H,bt,M,gt,pt,R,$,Ft=Mt("killHit6")+"",x,_,wt,W,Lt=Mt("killHit8")+"",Bt,kt,Gt,Y,Pt=Mt("killMiss")+"",Ht,Et,te,dt,Se=Mt("drop")+"",ee,le,ft,se,Jt,Wt,q,Ct,Te="Past Games",ne,St,we="Delete All",oe,ae,re,z,ie,Vt=Qe(t[5])+"",Yt,ce,ue,de,jt=pe(t[5])+"",Qt,fe,he,be,qt=ke(t[5])+"",Xt,_e,Kt,_t,Nt,Be="<tr><th>Game</th> <th>Score</th> <th>Bulls</th> <th>Kills 8</th> <th>Kills 6</th> <th>Drops</th> <th></th> <th></th></tr>",ve,Ot,me,Ge,At=xt(t[2].scores),O=[];for(let n=0;n<At.length;n+=1)O[n]=We(Je(t,At,n));let Dt=xt(t[3]),A=[];for(let n=0;n<Dt.length;n+=1)A[n]=Ye(Fe(t,Dt,n));return{c(){e=i("meta"),s=m(),r=i("h1"),r.textContent=E,b=m(),f=i("section"),o=i("p"),C=p("Current Game Score "),w=p(U),X=m(),V=i("div");for(let n=0;n<O.length;n+=1)O[n].c();B=m(),K=i("section"),T=i("div"),I=i("button"),it=p("0"),J=m(),N=i("button"),et=p("1"),ct=m(),G=i("button"),Z=p("2"),lt=m(),L=i("button"),y=p("3"),j=m(),P=i("button"),st=p("4"),ut=m(),h=i("button"),H=p("5"),bt=m(),M=i("button"),gt=p("6"),pt=m(),R=i("div"),$=i("button"),x=p(Ft),wt=m(),W=i("button"),Bt=p(Lt),Gt=m(),Y=i("button"),Ht=p(Pt),te=m(),dt=i("button"),ee=p(Se),le=m(),ft=i("button"),se=p("Save Game"),Wt=m(),q=i("section"),Ct=i("h2"),Ct.textContent=Te,ne=m(),St=i("button"),St.textContent=we,oe=i("br"),ae=i("br"),re=m(),z=i("p"),ie=p("Rating: "),Yt=p(Vt),ce=m(),ue=i("br"),de=p(" Average: "),Qt=p(jt),fe=m(),he=i("br"),be=p(` total kills:
		`),Xt=p(qt),_e=m(),Kt=i("div"),_t=i("table"),Nt=i("thead"),Nt.innerHTML=Be,ve=m(),Ot=i("tbody");for(let n=0;n<A.length;n+=1)A[n].c();this.h()},l(n){const v=sl("svelte-eoqcji",document.head);e=c(v,"META",{name:!0,content:!0}),v.forEach(a),s=g(n),r=c(n,"H1",{class:!0,"data-svelte-h":!0}),zt(r)!=="svelte-1dgqe5j"&&(r.textContent=E),b=g(n),f=c(n,"SECTION",{});var u=d(f);o=c(u,"P",{});var ht=d(o);C=k(ht,"Current Game Score "),w=k(ht,U),ht.forEach(a),X=g(u),V=c(u,"DIV",{class:!0});var He=d(V);for(let Tt=0;Tt<O.length;Tt+=1)O[Tt].l(He);He.forEach(a),u.forEach(a),B=g(n),K=c(n,"SECTION",{});var Zt=d(K);T=c(Zt,"DIV",{});var F=d(T);I=c(F,"BUTTON",{class:!0});var Ce=d(I);it=k(Ce,"0"),Ce.forEach(a),J=g(F),N=c(F,"BUTTON",{class:!0});var Ke=d(N);et=k(Ke,"1"),Ke.forEach(a),ct=g(F),G=c(F,"BUTTON",{class:!0});var Ne=d(G);Z=k(Ne,"2"),Ne.forEach(a),lt=g(F),L=c(F,"BUTTON",{class:!0});var Oe=d(L);y=k(Oe,"3"),Oe.forEach(a),j=g(F),P=c(F,"BUTTON",{class:!0});var Ae=d(P);st=k(Ae,"4"),Ae.forEach(a),ut=g(F),h=c(F,"BUTTON",{class:!0});var De=d(h);H=k(De,"5"),De.forEach(a),bt=g(F),M=c(F,"BUTTON",{class:!0});var Ue=d(M);gt=k(Ue,"6"),Ue.forEach(a),F.forEach(a),pt=g(Zt),R=c(Zt,"DIV",{});var nt=d(R);$=c(nt,"BUTTON",{class:!0});var Ie=d($);x=k(Ie,Ft),Ie.forEach(a),wt=g(nt),W=c(nt,"BUTTON",{class:!0});var Me=d(W);Bt=k(Me,Lt),Me.forEach(a),Gt=g(nt),Y=c(nt,"BUTTON",{class:!0});var Re=d(Y);Ht=k(Re,Pt),Re.forEach(a),te=g(nt),dt=c(nt,"BUTTON",{class:!0});var Le=d(dt);ee=k(Le,Se),Le.forEach(a),le=g(nt),ft=c(nt,"BUTTON",{class:!0});var Pe=d(ft);se=k(Pe,"Save Game"),Pe.forEach(a),nt.forEach(a),Zt.forEach(a),Wt=g(n),q=c(n,"SECTION",{});var ot=d(q);Ct=c(ot,"H2",{"data-svelte-h":!0}),zt(Ct)!=="svelte-l8fwex"&&(Ct.textContent=Te),ne=g(ot),St=c(ot,"BUTTON",{"data-svelte-h":!0}),zt(St)!=="svelte-8d121d"&&(St.textContent=we),oe=c(ot,"BR",{}),ae=c(ot,"BR",{}),re=g(ot),z=c(ot,"P",{});var tt=d(z);ie=k(tt,"Rating: "),Yt=k(tt,Vt),ce=g(tt),ue=c(tt,"BR",{}),de=k(tt," Average: "),Qt=k(tt,jt),fe=g(tt),he=c(tt,"BR",{}),be=k(tt,` total kills:
		`),Xt=k(tt,qt),tt.forEach(a),_e=g(ot),Kt=c(ot,"DIV",{class:!0});var Ve=d(Kt);_t=c(Ve,"TABLE",{class:!0});var yt=d(_t);Nt=c(yt,"THEAD",{"data-svelte-h":!0}),zt(Nt)!=="svelte-1ys20dk"&&(Nt.innerHTML=Be),ve=g(yt),Ot=c(yt,"TBODY",{});var je=d(Ot);for(let Tt=0;Tt<A.length;Tt+=1)A[Tt].l(je);je.forEach(a),yt.forEach(a),Ve.forEach(a),ot.forEach(a),this.h()},h(){document.title="Home",S(e,"name","description"),S(e,"content","Figure out ratings"),S(r,"class","center svelte-15rgsw1"),S(V,"class","flexrow svelte-15rgsw1"),S(I,"class","flexrowButton  svelte-15rgsw1"),I.disabled=t[4],S(N,"class","flexrowButton svelte-15rgsw1"),N.disabled=t[4],S(G,"class","flexrowButton svelte-15rgsw1"),G.disabled=t[4],S(L,"class","flexrowButton  svelte-15rgsw1"),L.disabled=t[4],S(P,"class","flexrowButton  svelte-15rgsw1"),P.disabled=t[4],S(h,"class","flexrowButton  svelte-15rgsw1"),h.disabled=t[4],S(M,"class","flexrowButton  svelte-15rgsw1"),M.disabled=t[4],S($,"class","flexrowButton  svelte-15rgsw1"),$.disabled=_=t[4]||!t[2].KillEnabled&&!Ut(t[6])&&!It(t[6]),S(W,"class","flexrowButton  svelte-15rgsw1"),W.disabled=kt=t[4]||!t[2].KillEnabled&&!Ut(t[6])&&!It(t[6]),S(Y,"class","flexrowButton  svelte-15rgsw1"),Y.disabled=Et=t[4]||!t[2].KillEnabled&&!Ut(t[6])&&!It(t[6]),S(dt,"class","flexrowButton  svelte-15rgsw1"),dt.disabled=t[4],ft.disabled=Jt=!t[2].isComplete,S(ft,"class","contrast"),S(_t,"class","striped"),S(Kt,"class","overflow-auto")},m(n,v){l(document.head,e),Q(n,s,v),Q(n,r,v),Q(n,b,v),Q(n,f,v),l(f,o),l(o,C),l(o,w),l(f,X),l(f,V);for(let u=0;u<O.length;u+=1)O[u]&&O[u].m(V,null);Q(n,B,v),Q(n,K,v),l(K,T),l(T,I),l(I,it),l(T,J),l(T,N),l(N,et),l(T,ct),l(T,G),l(G,Z),l(T,lt),l(T,L),l(L,y),l(T,j),l(T,P),l(P,st),l(T,ut),l(T,h),l(h,H),l(T,bt),l(T,M),l(M,gt),l(K,pt),l(K,R),l(R,$),l($,x),l(R,wt),l(R,W),l(W,Bt),l(R,Gt),l(R,Y),l(Y,Ht),l(R,te),l(R,dt),l(dt,ee),l(R,le),l(R,ft),l(ft,se),Q(n,Wt,v),Q(n,q,v),l(q,Ct),l(q,ne),l(q,St),l(q,oe),l(q,ae),l(q,re),l(q,z),l(z,ie),l(z,Yt),l(z,ce),l(z,ue),l(z,de),l(z,Qt),l(z,fe),l(z,he),l(z,be),l(z,Xt),l(q,_e),l(q,Kt),l(Kt,_t),l(_t,Nt),l(_t,ve),l(_t,Ot);for(let u=0;u<A.length;u+=1)A[u]&&A[u].m(Ot,null);me||(Ge=[D(I,"click",t[13]),D(N,"click",t[14]),D(G,"click",t[15]),D(L,"click",t[16]),D(P,"click",t[17]),D(h,"click",t[18]),D(M,"click",t[19]),D($,"click",t[20]),D(W,"click",t[21]),D(Y,"click",t[22]),D(dt,"click",t[23]),D(ft,"click",t[8]),D(St,"click",t[9])],me=!0)},p(n,v){if(v[0]&4&&U!==(U=n[2].totalScore+"")&&rt(w,U),v[0]&6){At=xt(n[2].scores);let u;for(u=0;u<At.length;u+=1){const ht=Je(n,At,u);O[u]?O[u].p(ht,v):(O[u]=We(ht),O[u].c(),O[u].m(V,null))}for(;u<O.length;u+=1)O[u].d(1);O.length=At.length}if(v[0]&16&&(I.disabled=n[4]),v[0]&16&&(N.disabled=n[4]),v[0]&16&&(G.disabled=n[4]),v[0]&16&&(L.disabled=n[4]),v[0]&16&&(P.disabled=n[4]),v[0]&16&&(h.disabled=n[4]),v[0]&16&&(M.disabled=n[4]),v[0]&84&&_!==(_=n[4]||!n[2].KillEnabled&&!Ut(n[6])&&!It(n[6]))&&($.disabled=_),v[0]&84&&kt!==(kt=n[4]||!n[2].KillEnabled&&!Ut(n[6])&&!It(n[6]))&&(W.disabled=kt),v[0]&84&&Et!==(Et=n[4]||!n[2].KillEnabled&&!Ut(n[6])&&!It(n[6]))&&(Y.disabled=Et),v[0]&16&&(dt.disabled=n[4]),v[0]&4&&Jt!==(Jt=!n[2].isComplete)&&(ft.disabled=Jt),v[0]&32&&Vt!==(Vt=Qe(n[5])+"")&&rt(Yt,Vt),v[0]&32&&jt!==(jt=pe(n[5])+"")&&rt(Qt,jt),v[0]&32&&qt!==(qt=ke(n[5])+"")&&rt(Xt,qt),v[0]&13){Dt=xt(n[3]);let u;for(u=0;u<Dt.length;u+=1){const ht=Fe(n,Dt,u);A[u]?A[u].p(ht,v):(A[u]=Ye(ht),A[u].c(),A[u].m(Ot,null))}for(;u<A.length;u+=1)A[u].d(1);A.length=Dt.length}},i:ge,o:ge,d(n){n&&(a(s),a(r),a(b),a(f),a(B),a(K),a(Wt),a(q)),a(e),qe(O,n),qe(A,n),me=!1,Xe(Ge)}}}function Ut(t){return t==="killHit6"||t==="killHit8"||t==="killMiss"}function It(t){return t==="drop"}function pe(t){return t.length<1?0:t.reduce((s,r)=>s+r.totalScore,0)/t.length}function Qe(t){if(t.length===0)return 0;const s=pe(t),r=cl(t),E=ke(t);return s*8+r*500+E*2}function cl(t){const e=t.length*10;let s=0;for(const r of t)for(const E of r.scores)(E===6||E===8||E==="killHit6"||E==="killHit8")&&s++;return s/e}function ke(t){return t.reduce((e,s)=>s.stats.totalEightKills+s.stats.totalSixKills+e,0)}function Mt(t){if(typeof t=="number")return t.toString();switch(t){case"killHit6":return"Kill 6";case"killHit8":return"Kill 8";case"killMiss":return"Miss";case"drop":return"Drop"}}function ul(t,e,s){let r,E,b,f,o;tl(t,at,h=>s(3,o=h));const C=!1;let U="",w=-1;function X(h){r.addScore(h),vt(at,o=[...o],o)}function V(h){r.replaceScore(w,h),s(1,w=-1),vt(at,o=[...o],o)}function B(h){w===-1?X(h):V(h),vt(at,o=[...o],o)}function K(){if(!r.isComplete)return;o[o.length-1]!==r?vt(at,o=[...o],o):vt(at,o=[...o,new Rt],o),s(0,U=""),s(1,w=-1)}function T(){vt(at,o=[new Rt],o)}const I=()=>{s(1,w=-1)},it=h=>s(1,w=h),J=()=>{B(0)},N=()=>{B(1)},et=()=>{B(2)},ct=()=>{B(3)},G=()=>{B(4)},Z=()=>{B(5)},lt=()=>{B(6)},L=()=>{B("killHit6")},y=()=>{B("killHit8")},j=()=>{B("killMiss")},P=()=>{B("drop")},st=h=>{s(0,U=h.gameId)},ut=h=>{const H=vt(at,o=o.filter((bt,M)=>M!==h),o);H.length<1&&H.push(new Rt),vt(at,o=H,o),s(0,U="")};return t.$$.update=()=>{t.$$.dirty[0]&9&&s(2,r=U&&o.find(h=>h.gameId===U)||o[o.length-1]),t.$$.dirty[0]&6&&s(6,E=w>-1?r.scores[w]:null),t.$$.dirty[0]&8&&s(5,b=o.filter(h=>h.isComplete)),t.$$.dirty[0]&6&&s(4,f=r.isComplete&&w===-1)},[U,w,r,o,f,b,E,B,K,T,C,I,it,J,N,et,ct,G,Z,lt,L,y,j,P,st,ut]}class _l extends el{constructor(e){super(),ll(this,e,ul,il,xe,{ssr:10},null,[-1,-1])}get ssr(){return this.$$.ctx[10]}}export{_l as component};
