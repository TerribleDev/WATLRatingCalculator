var ye=Object.defineProperty;var $e=(t,e,s)=>e in t?ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var $t=(t,e,s)=>($e(t,typeof e!="symbol"?e+"":e,s),s);import{s as xe,n as pe,r as Xe,b as tl,f as mt}from"../chunks/scheduler.Cv6dzE50.js";import{S as el,i as ll,e as r,s as v,j as g,y as sl,c as u,d as a,l as p,z as zt,a as d,k,b as S,g as l,f as Q,A as D,m as it,B as qe}from"../chunks/index.B6Hi3Lad.js";import{w as nl}from"../chunks/index.Bvnd0Eds.js";function xt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class Rt{constructor(){$t(this,"gameId",Math.random().toString(36).substring(7));$t(this,"scores",[]);$t(this,"stats",this.GenerateStats())}addScore(e){this.scores.push(e),this.scores=[...this.scores],this.stats=this.GenerateStats()}removeScore(e){this.scores.splice(e,1),this.scores=[...this.scores],this.stats=this.GenerateStats()}replaceScore(e,s){this.scores[e]=s,this.scores=[...this.scores],this.stats=this.GenerateStats()}get isComplete(){return this.scores.length===10}convertScoreToNumber(e){return e==="killHit6"?6:e==="killHit8"?8:e==="killMiss"||e==="drop"?0:e}get totalScore(){return this.scores.reduce((e,s)=>e+this.convertScoreToNumber(s),0)}get KillEnabled(){const e=this.GenerateStats();return e.killAttempts<2||e.killAttempts===2&&e.drops>0}GenerateStats(){const e={totalSixKills:0,totalEightKills:0,killAttempts:0,drops:0,bulls:0};return this.scores.forEach(s=>{s===6&&(e.bulls+=1),s==="drop"&&(e.drops+=1),(s==="killHit6"||s==="killHit8"||s==="killMiss")&&(e.killAttempts+=1),s==="killHit6"&&(e.totalSixKills+=1),s==="killHit8"&&(e.totalEightKills+=1)}),e}}const Ze="WATLCALC",ze=localStorage.getItem(Ze),vt=ze?JSON.parse(ze):null;let Ee=[];(!vt||(vt==null?void 0:vt.length)===0)&&(Ee=[new Rt]);vt&&Array.isArray(vt)&&vt.length>0&&(Ee=vt.map(t=>ol(t)));const at=nl(Ee);at.subscribe(t=>{localStorage.setItem(Ze,JSON.stringify(t))});function ol(t){if(t instanceof Rt)return t;const e=new Rt;return e.scores=t.scores,e.stats=t.stats,e.gameId=t.gameId,e}function Fe(t,e,s){const i=t.slice();return i[28]=e[s],i[30]=s,i}function Je(t,e,s){const i=t.slice();return i[31]=e[s],i[33]=s,i}function al(t){let e,s=Mt(t[31])+"",i,E,b;function f(){return t[12](t[33])}return{c(){e=r("button"),i=g(s),this.h()},l(o){e=u(o,"BUTTON",{class:!0});var C=d(e);i=k(C,s),C.forEach(a),this.h()},h(){S(e,"class","outline secondary")},m(o,C){Q(o,e,C),l(e,i),E||(b=D(e,"click",f),E=!0)},p(o,C){t=o,C[0]&4&&s!==(s=Mt(t[31])+"")&&it(i,s)},d(o){o&&a(e),E=!1,b()}}}function il(t){let e,s="Cancel",i,E;return{c(){e=r("button"),e.textContent=s,this.h()},l(b){e=u(b,"BUTTON",{class:!0,"data-svelte-h":!0}),zt(e)!=="svelte-5d5idt"&&(e.textContent=s),this.h()},h(){S(e,"class","outline")},m(b,f){Q(b,e,f),i||(E=D(e,"click",t[11]),i=!0)},p:pe,d(b){b&&a(e),i=!1,E()}}}function We(t){let e,s;function i(f,o){return f[33]===f[1]?il:al}let E=i(t),b=E(t);return{c(){e=r("div"),b.c(),s=v()},l(f){e=u(f,"DIV",{});var o=d(e);b.l(o),s=p(o),o.forEach(a)},m(f,o){Q(f,e,o),b.m(e,null),l(e,s)},p(f,o){E===(E=i(f))&&b?b.p(f,o):(b.d(1),b=E(f),b&&(b.c(),b.m(e,s)))},d(f){f&&a(e),b.d()}}}function Ye(t){let e,s,i=t[30]+1+"",E,b,f,o=t[28].totalScore+"",C,U,B,X=t[28].stats.bulls+"",V,G,K,T=t[28].stats.totalEightKills+"",I,rt,J,N=t[28].stats.totalSixKills+"",et,ut,H,Z=t[28].stats.drops+"",lt,L,y,j,P,st,ct,h,w,bt,M,pt,gt,R;function $(){return t[24](t[28])}function Ft(){return t[25](t[30])}return{c(){e=r("tr"),s=r("td"),E=g(i),b=v(),f=r("td"),C=g(o),U=v(),B=r("td"),V=g(X),G=v(),K=r("td"),I=g(T),rt=v(),J=r("td"),et=g(N),ut=v(),H=r("td"),lt=g(Z),L=v(),y=r("td"),j=r("button"),P=g("Edit"),ct=v(),h=r("td"),w=r("button"),bt=g("Delete"),pt=v(),this.h()},l(x){e=u(x,"TR",{});var _=d(e);s=u(_,"TD",{class:!0});var Bt=d(s);E=k(Bt,i),Bt.forEach(a),b=p(_),f=u(_,"TD",{class:!0});var W=d(f);C=k(W,o),W.forEach(a),U=p(_),B=u(_,"TD",{class:!0});var Lt=d(B);V=k(Lt,X),Lt.forEach(a),G=p(_),K=u(_,"TD",{class:!0});var Gt=d(K);I=k(Gt,T),Gt.forEach(a),rt=p(_),J=u(_,"TD",{class:!0});var kt=d(J);et=k(kt,N),kt.forEach(a),ut=p(_),H=u(_,"TD",{class:!0});var Ht=d(H);lt=k(Ht,Z),Ht.forEach(a),L=p(_),y=u(_,"TD",{});var Y=d(y);j=u(Y,"BUTTON",{});var Pt=d(j);P=k(Pt,"Edit"),Pt.forEach(a),Y.forEach(a),ct=p(_),h=u(_,"TD",{});var wt=d(h);w=u(wt,"BUTTON",{});var Et=d(w);bt=k(Et,"Delete"),Et.forEach(a),wt.forEach(a),pt=p(_),_.forEach(a),this.h()},h(){S(s,"class","tdSmall"),S(f,"class","tdSmall"),S(B,"class","tdSmall"),S(K,"class","tdSmall"),S(J,"class","tdSmall"),S(H,"class","tdSmall"),j.disabled=st=t[28]===t[2],w.disabled=M=t[28]===t[2]},m(x,_){Q(x,e,_),l(e,s),l(s,E),l(e,b),l(e,f),l(f,C),l(e,U),l(e,B),l(B,V),l(e,G),l(e,K),l(K,I),l(e,rt),l(e,J),l(J,et),l(e,ut),l(e,H),l(H,lt),l(e,L),l(e,y),l(y,j),l(j,P),l(e,ct),l(e,h),l(h,w),l(w,bt),l(e,pt),gt||(R=[D(j,"click",$),D(w,"click",Ft)],gt=!0)},p(x,_){t=x,_[0]&8&&o!==(o=t[28].totalScore+"")&&it(C,o),_[0]&8&&X!==(X=t[28].stats.bulls+"")&&it(V,X),_[0]&8&&T!==(T=t[28].stats.totalEightKills+"")&&it(I,T),_[0]&8&&N!==(N=t[28].stats.totalSixKills+"")&&it(et,N),_[0]&8&&Z!==(Z=t[28].stats.drops+"")&&it(lt,Z),_[0]&12&&st!==(st=t[28]===t[2])&&(j.disabled=st),_[0]&12&&M!==(M=t[28]===t[2])&&(w.disabled=M)},d(x){x&&a(e),gt=!1,Xe(R)}}}function rl(t){let e,s,i,E="WATL rating simulator",b,f,o,C,U=t[2].totalScore+"",B,X,V,G,K,T,I,rt,J,N,et,ut,H,Z,lt,L,y,j,P,st,ct,h,w,bt,M,pt,gt,R,$,Ft=Mt("killHit6")+"",x,_,Bt,W,Lt=Mt("killHit8")+"",Gt,kt,Ht,Y,Pt=Mt("killMiss")+"",wt,Et,te,dt,Se=Mt("drop")+"",ee,le,ft,se,Jt,Wt,q,Ct,Te="Past Games",ne,St,Be="Delete All",oe,ae,ie,z,re,Vt=Qe(t[5])+"",Yt,ue,ce,de,jt=ge(t[5])+"",Qt,fe,he,be,qt=ke(t[5])+"",Xt,_e,Kt,_t,Nt,Ge="<tr><th>Game</th> <th>Score</th> <th>Bulls</th> <th>Kills 8</th> <th>Kills 6</th> <th>Drops</th> <th></th> <th></th></tr>",me,Ot,ve,He,At=xt(t[2].scores),O=[];for(let n=0;n<At.length;n+=1)O[n]=We(Je(t,At,n));let Dt=xt(t[3]),A=[];for(let n=0;n<Dt.length;n+=1)A[n]=Ye(Fe(t,Dt,n));return{c(){e=r("meta"),s=v(),i=r("h1"),i.textContent=E,b=v(),f=r("section"),o=r("p"),C=g("Current Game Score "),B=g(U),X=v(),V=r("div");for(let n=0;n<O.length;n+=1)O[n].c();G=v(),K=r("section"),T=r("div"),I=r("button"),rt=g("0"),J=v(),N=r("button"),et=g("1"),ut=v(),H=r("button"),Z=g("2"),lt=v(),L=r("button"),y=g("3"),j=v(),P=r("button"),st=g("4"),ct=v(),h=r("button"),w=g("5"),bt=v(),M=r("button"),pt=g("6"),gt=v(),R=r("div"),$=r("button"),x=g(Ft),Bt=v(),W=r("button"),Gt=g(Lt),Ht=v(),Y=r("button"),wt=g(Pt),te=v(),dt=r("button"),ee=g(Se),le=v(),ft=r("button"),se=g("Save Game"),Wt=v(),q=r("section"),Ct=r("h2"),Ct.textContent=Te,ne=v(),St=r("button"),St.textContent=Be,oe=r("br"),ae=r("br"),ie=v(),z=r("p"),re=g("Rating: "),Yt=g(Vt),ue=v(),ce=r("br"),de=g(" Average: "),Qt=g(jt),fe=v(),he=r("br"),be=g(` total kills:
		`),Xt=g(qt),_e=v(),Kt=r("div"),_t=r("table"),Nt=r("thead"),Nt.innerHTML=Ge,me=v(),Ot=r("tbody");for(let n=0;n<A.length;n+=1)A[n].c();this.h()},l(n){const m=sl("svelte-eoqcji",document.head);e=u(m,"META",{name:!0,content:!0}),m.forEach(a),s=p(n),i=u(n,"H1",{class:!0,"data-svelte-h":!0}),zt(i)!=="svelte-1dgqe5j"&&(i.textContent=E),b=p(n),f=u(n,"SECTION",{});var c=d(f);o=u(c,"P",{});var ht=d(o);C=k(ht,"Current Game Score "),B=k(ht,U),ht.forEach(a),X=p(c),V=u(c,"DIV",{class:!0});var we=d(V);for(let Tt=0;Tt<O.length;Tt+=1)O[Tt].l(we);we.forEach(a),c.forEach(a),G=p(n),K=u(n,"SECTION",{});var Zt=d(K);T=u(Zt,"DIV",{});var F=d(T);I=u(F,"BUTTON",{class:!0});var Ce=d(I);rt=k(Ce,"0"),Ce.forEach(a),J=p(F),N=u(F,"BUTTON",{class:!0});var Ke=d(N);et=k(Ke,"1"),Ke.forEach(a),ut=p(F),H=u(F,"BUTTON",{class:!0});var Ne=d(H);Z=k(Ne,"2"),Ne.forEach(a),lt=p(F),L=u(F,"BUTTON",{class:!0});var Oe=d(L);y=k(Oe,"3"),Oe.forEach(a),j=p(F),P=u(F,"BUTTON",{class:!0});var Ae=d(P);st=k(Ae,"4"),Ae.forEach(a),ct=p(F),h=u(F,"BUTTON",{class:!0});var De=d(h);w=k(De,"5"),De.forEach(a),bt=p(F),M=u(F,"BUTTON",{class:!0});var Ue=d(M);pt=k(Ue,"6"),Ue.forEach(a),F.forEach(a),gt=p(Zt),R=u(Zt,"DIV",{});var nt=d(R);$=u(nt,"BUTTON",{class:!0});var Ie=d($);x=k(Ie,Ft),Ie.forEach(a),Bt=p(nt),W=u(nt,"BUTTON",{class:!0});var Me=d(W);Gt=k(Me,Lt),Me.forEach(a),Ht=p(nt),Y=u(nt,"BUTTON",{class:!0});var Re=d(Y);wt=k(Re,Pt),Re.forEach(a),te=p(nt),dt=u(nt,"BUTTON",{class:!0});var Le=d(dt);ee=k(Le,Se),Le.forEach(a),le=p(nt),ft=u(nt,"BUTTON",{class:!0});var Pe=d(ft);se=k(Pe,"Save Game"),Pe.forEach(a),nt.forEach(a),Zt.forEach(a),Wt=p(n),q=u(n,"SECTION",{});var ot=d(q);Ct=u(ot,"H2",{"data-svelte-h":!0}),zt(Ct)!=="svelte-l8fwex"&&(Ct.textContent=Te),ne=p(ot),St=u(ot,"BUTTON",{"data-svelte-h":!0}),zt(St)!=="svelte-8d121d"&&(St.textContent=Be),oe=u(ot,"BR",{}),ae=u(ot,"BR",{}),ie=p(ot),z=u(ot,"P",{});var tt=d(z);re=k(tt,"Rating: "),Yt=k(tt,Vt),ue=p(tt),ce=u(tt,"BR",{}),de=k(tt," Average: "),Qt=k(tt,jt),fe=p(tt),he=u(tt,"BR",{}),be=k(tt,` total kills:
		`),Xt=k(tt,qt),tt.forEach(a),_e=p(ot),Kt=u(ot,"DIV",{class:!0});var Ve=d(Kt);_t=u(Ve,"TABLE",{class:!0});var yt=d(_t);Nt=u(yt,"THEAD",{"data-svelte-h":!0}),zt(Nt)!=="svelte-1ys20dk"&&(Nt.innerHTML=Ge),me=p(yt),Ot=u(yt,"TBODY",{});var je=d(Ot);for(let Tt=0;Tt<A.length;Tt+=1)A[Tt].l(je);je.forEach(a),yt.forEach(a),Ve.forEach(a),ot.forEach(a),this.h()},h(){document.title="Home",S(e,"name","description"),S(e,"content","Figure out ratings"),S(i,"class","center svelte-um62x2"),S(V,"class","flexrow svelte-um62x2"),S(I,"class","flexrowButton  svelte-um62x2"),I.disabled=t[4],S(N,"class","flexrowButton svelte-um62x2"),N.disabled=t[4],S(H,"class","flexrowButton svelte-um62x2"),H.disabled=t[4],S(L,"class","flexrowButton  svelte-um62x2"),L.disabled=t[4],S(P,"class","flexrowButton  svelte-um62x2"),P.disabled=t[4],S(h,"class","flexrowButton  svelte-um62x2"),h.disabled=t[4],S(M,"class","flexrowButton  svelte-um62x2"),M.disabled=t[4],S($,"class","flexrowButton  svelte-um62x2"),$.disabled=_=t[4]||!t[2].KillEnabled&&!Ut(t[6])&&!It(t[6]),S(W,"class","flexrowButton  svelte-um62x2"),W.disabled=kt=t[4]||!t[2].KillEnabled&&!Ut(t[6])&&!It(t[6]),S(Y,"class","flexrowButton  svelte-um62x2"),Y.disabled=Et=t[4]||!t[2].KillEnabled&&!Ut(t[6])&&!It(t[6]),S(dt,"class","flexrowButton  svelte-um62x2"),dt.disabled=t[4],ft.disabled=Jt=!t[2].isComplete,S(ft,"class","contrast"),S(_t,"class","striped"),S(Kt,"class","overflow-auto")},m(n,m){l(document.head,e),Q(n,s,m),Q(n,i,m),Q(n,b,m),Q(n,f,m),l(f,o),l(o,C),l(o,B),l(f,X),l(f,V);for(let c=0;c<O.length;c+=1)O[c]&&O[c].m(V,null);Q(n,G,m),Q(n,K,m),l(K,T),l(T,I),l(I,rt),l(T,J),l(T,N),l(N,et),l(T,ut),l(T,H),l(H,Z),l(T,lt),l(T,L),l(L,y),l(T,j),l(T,P),l(P,st),l(T,ct),l(T,h),l(h,w),l(T,bt),l(T,M),l(M,pt),l(K,gt),l(K,R),l(R,$),l($,x),l(R,Bt),l(R,W),l(W,Gt),l(R,Ht),l(R,Y),l(Y,wt),l(R,te),l(R,dt),l(dt,ee),l(R,le),l(R,ft),l(ft,se),Q(n,Wt,m),Q(n,q,m),l(q,Ct),l(q,ne),l(q,St),l(q,oe),l(q,ae),l(q,ie),l(q,z),l(z,re),l(z,Yt),l(z,ue),l(z,ce),l(z,de),l(z,Qt),l(z,fe),l(z,he),l(z,be),l(z,Xt),l(q,_e),l(q,Kt),l(Kt,_t),l(_t,Nt),l(_t,me),l(_t,Ot);for(let c=0;c<A.length;c+=1)A[c]&&A[c].m(Ot,null);ve||(He=[D(I,"click",t[13]),D(N,"click",t[14]),D(H,"click",t[15]),D(L,"click",t[16]),D(P,"click",t[17]),D(h,"click",t[18]),D(M,"click",t[19]),D($,"click",t[20]),D(W,"click",t[21]),D(Y,"click",t[22]),D(dt,"click",t[23]),D(ft,"click",t[8]),D(St,"click",t[9])],ve=!0)},p(n,m){if(m[0]&4&&U!==(U=n[2].totalScore+"")&&it(B,U),m[0]&6){At=xt(n[2].scores);let c;for(c=0;c<At.length;c+=1){const ht=Je(n,At,c);O[c]?O[c].p(ht,m):(O[c]=We(ht),O[c].c(),O[c].m(V,null))}for(;c<O.length;c+=1)O[c].d(1);O.length=At.length}if(m[0]&16&&(I.disabled=n[4]),m[0]&16&&(N.disabled=n[4]),m[0]&16&&(H.disabled=n[4]),m[0]&16&&(L.disabled=n[4]),m[0]&16&&(P.disabled=n[4]),m[0]&16&&(h.disabled=n[4]),m[0]&16&&(M.disabled=n[4]),m[0]&84&&_!==(_=n[4]||!n[2].KillEnabled&&!Ut(n[6])&&!It(n[6]))&&($.disabled=_),m[0]&84&&kt!==(kt=n[4]||!n[2].KillEnabled&&!Ut(n[6])&&!It(n[6]))&&(W.disabled=kt),m[0]&84&&Et!==(Et=n[4]||!n[2].KillEnabled&&!Ut(n[6])&&!It(n[6]))&&(Y.disabled=Et),m[0]&16&&(dt.disabled=n[4]),m[0]&4&&Jt!==(Jt=!n[2].isComplete)&&(ft.disabled=Jt),m[0]&32&&Vt!==(Vt=Qe(n[5])+"")&&it(Yt,Vt),m[0]&32&&jt!==(jt=ge(n[5])+"")&&it(Qt,jt),m[0]&32&&qt!==(qt=ke(n[5])+"")&&it(Xt,qt),m[0]&13){Dt=xt(n[3]);let c;for(c=0;c<Dt.length;c+=1){const ht=Fe(n,Dt,c);A[c]?A[c].p(ht,m):(A[c]=Ye(ht),A[c].c(),A[c].m(Ot,null))}for(;c<A.length;c+=1)A[c].d(1);A.length=Dt.length}},i:pe,o:pe,d(n){n&&(a(s),a(i),a(b),a(f),a(G),a(K),a(Wt),a(q)),a(e),qe(O,n),qe(A,n),ve=!1,Xe(He)}}}function Ut(t){return t==="killHit6"||t==="killHit8"||t==="killMiss"}function It(t){return t==="drop"}function ge(t){return t.length<1?0:t.reduce((s,i)=>s+i.totalScore,0)/t.length}function Qe(t){if(t.length===0)return 0;const s=ge(t),i=ul(t),E=ke(t);return s*8+i*500+E*2}function ul(t){const e=t.length*10;let s=0;for(const i of t)for(const E of i.scores)(E===6||E===8||E==="killHit6"||E==="killHit8")&&s++;return s/e}function ke(t){return t.reduce((e,s)=>s.stats.totalEightKills+s.stats.totalSixKills+e,0)}function Mt(t){if(typeof t=="number")return t.toString();switch(t){case"killHit6":return"Kill 6";case"killHit8":return"Kill 8";case"killMiss":return"Miss";case"drop":return"Drop"}}function cl(t,e,s){let i,E,b,f,o;tl(t,at,h=>s(3,o=h));const C=!1;let U="",B=-1;function X(h){i.addScore(h),mt(at,o=[...o],o)}function V(h){i.replaceScore(B,h),s(1,B=-1),mt(at,o=[...o],o)}function G(h){B===-1?X(h):V(h),mt(at,o=[...o],o)}function K(){if(!i.isComplete)return;o[o.length-1]!==i?mt(at,o=[...o],o):mt(at,o=[...o,new Rt],o),s(0,U=""),s(1,B=-1)}function T(){mt(at,o=[new Rt],o)}const I=()=>{s(1,B=-1)},rt=h=>s(1,B=h),J=()=>{G(0)},N=()=>{G(1)},et=()=>{G(2)},ut=()=>{G(3)},H=()=>{G(4)},Z=()=>{G(5)},lt=()=>{G(6)},L=()=>{G("killHit6")},y=()=>{G("killHit8")},j=()=>{G("killMiss")},P=()=>{G("drop")},st=h=>{s(0,U=h.gameId)},ct=h=>{const w=mt(at,o=o.filter((bt,M)=>M!==h),o);w.length<1&&w.push(new Rt),mt(at,o=w,o),s(0,U="")};return t.$$.update=()=>{t.$$.dirty[0]&9&&s(2,i=U&&o.find(h=>h.gameId===U)||o[o.length-1]),t.$$.dirty[0]&6&&s(6,E=B>-1?i.scores[B]:null),t.$$.dirty[0]&8&&s(5,b=o.filter(h=>h.isComplete)),t.$$.dirty[0]&6&&s(4,f=i.isComplete&&B===-1)},[U,B,i,o,f,b,E,G,K,T,C,I,rt,J,N,et,ut,H,Z,lt,L,y,j,P,st,ct]}class _l extends el{constructor(e){super(),ll(this,e,cl,rl,xe,{ssr:10},null,[-1,-1])}get ssr(){return this.$$.ctx[10]}}export{_l as component};
